

/////-------Autonumeric--------//////
////http://www.decorplanit.com/plugin/
//modified and removed exception  e.error("The value (" + r + ") from the 'set' method falls outside of the vMin / vMax range") 
(function (e) { "use strict"; function t(e) { var t = {}; if (e.selectionStart === undefined) { e.focus(); var n = document.selection.createRange(); t.length = n.text.length; n.moveStart("character", -e.value.length); t.end = n.text.length; t.start = t.end - t.length } else { t.start = e.selectionStart; t.end = e.selectionEnd; t.length = t.end - t.start } return t } function n(e, t, n) { if (e.selectionStart === undefined) { e.focus(); var r = e.createTextRange(); r.collapse(true); r.moveEnd("character", n); r.moveStart("character", t); r.select() } else { e.selectionStart = t; e.selectionEnd = n } } function r(t, n) { e.each(n, function (e, r) { if (typeof r === "function") { n[e] = r(t, n, e) } else if (typeof t.autoNumeric[r] === "function") { n[e] = t.autoNumeric[r](t, n, e) } }) } function i(e, t) { if (typeof e[t] === "string") { e[t] *= 1 } } function s(e, t) { r(e, t); t.oEvent = null; t.tagList = ["B", "CAPTION", "CITE", "CODE", "DD", "DEL", "DIV", "DFN", "DT", "EM", "H1", "H2", "H3", "H4", "H5", "H6", "INS", "KDB", "LABEL", "LI", "OUTPUT", "P", "Q", "S", "SAMPLE", "SPAN", "STRONG", "TD", "TH", "U", "VAR"]; var n = t.vMax.toString().split("."), s = !t.vMin && t.vMin !== 0 ? [] : t.vMin.toString().split("."); i(t, "vMax"); i(t, "vMin"); i(t, "mDec"); t.allowLeading = true; t.aNeg = t.vMin < 0 ? "-" : ""; n[0] = n[0].replace("-", ""); s[0] = s[0].replace("-", ""); t.mInt = Math.max(n[0].length, s[0].length, 1); if (t.mDec === null) { var o = 0, u = 0; if (n[1]) { o = n[1].length } if (s[1]) { u = s[1].length } t.mDec = Math.max(o, u) } if (t.altDec === null && t.mDec > 0) { if (t.aDec === "." && t.aSep !== ",") { t.altDec = "," } else if (t.aDec === "," && t.aSep !== ".") { t.altDec = "." } } var a = t.aNeg ? "([-\\" + t.aNeg + "]?)" : "(-?)"; t.aNegRegAutoStrip = a; t.skipFirstAutoStrip = new RegExp(a + "[^-" + (t.aNeg ? "\\" + t.aNeg : "") + "\\" + t.aDec + "\\d]" + ".*?(\\d|\\" + t.aDec + "\\d)"); t.skipLastAutoStrip = new RegExp("(\\d\\" + t.aDec + "?)[^\\" + t.aDec + "\\d]\\D*$"); var f = "-" + t.aNum + "\\" + t.aDec; t.allowedAutoStrip = new RegExp("[^" + f + "]", "gi"); t.numRegAutoStrip = new RegExp(a + "(?:\\" + t.aDec + "?(\\d+\\" + t.aDec + "\\d+)|(\\d*(?:\\" + t.aDec + "\\d*)?))"); return t } function o(e, t, n) { if (t.aSign) { while (e.indexOf(t.aSign) > -1) { e = e.replace(t.aSign, "") } } e = e.replace(t.skipFirstAutoStrip, "$1$2"); e = e.replace(t.skipLastAutoStrip, "$1"); e = e.replace(t.allowedAutoStrip, ""); if (t.altDec) { e = e.replace(t.altDec, t.aDec) } var r = e.match(t.numRegAutoStrip); e = r ? [r[1], r[2], r[3]].join("") : ""; if ((t.lZero === "allow" || t.lZero === "keep") && n !== "strip") { var i = [], s = ""; i = e.split(t.aDec); if (i[0].indexOf("-") !== -1) { s = "-"; i[0] = i[0].replace("-", "") } if (i[0].length > t.mInt && i[0].charAt(0) === "0") { i[0] = i[0].slice(1) } e = s + i.join(t.aDec) } if (n && t.lZero === "deny" || n && t.lZero === "allow" && t.allowLeading === false) { var o = "^" + t.aNegRegAutoStrip + "0*(\\d" + (n === "leading" ? ")" : "|$)"); o = new RegExp(o); e = e.replace(o, "$1$2") } return e } function u(e, t, n) { t = t.split(","); if (n === "set" || n === "focusout") { e = e.replace("-", ""); e = t[0] + e + t[1] } else if ((n === "get" || n === "focusin" || n === "pageLoad") && e.charAt(0) === t[0]) { e = e.replace(t[0], "-"); e = e.replace(t[1], "") } return e } function a(e, t, n) { if (t && n) { var r = e.split(t); if (r[1] && r[1].length > n) { if (n > 0) { r[1] = r[1].substring(0, n); e = r.join(t) } else { e = r[0] } } } return e } function f(e, t, n) { if (t && t !== ".") { e = e.replace(t, ".") } if (n && n !== "-") { e = e.replace(n, "-") } if (!e.match(/\d/)) { e += "0" } return e } function l(e, t) { var n = e.indexOf("."), r = +e; if (n !== -1) { if (r < 1e-6 && r > -1) { e = +e; if (e < 1e-6 && e > 0) { e = (e + 10).toString(); e = e.substring(1) } if (e < 0 && e > -1) { e = (e - 10).toString(); e = "-" + e.substring(2) } e = e.toString() } else { var i = e.split("."); if (i[1] !== undefined) { if (+i[1] === 0) { e = i[0] } else { i[1] = i[1].replace(/0*$/, ""); e = i.join(".") } } } } return t.lZero === "keep" ? e : e.replace(/^0*(\d)/, "$1") } function c(e, t, n) { if (n && n !== "-") { e = e.replace("-", n) } if (t && t !== ".") { e = e.replace(".", t) } return e } function h(t, n) { t = o(t, n); t = a(t, n.aDec, n.mDec); t = f(t, n.aDec, n.aNeg); var r = +t; if (n.oEvent === "set" && (r < n.vMin || r > n.vMax)) { } return r >= n.vMin && r <= n.vMax } function p(e, t, n) { if (e === "" || e === t.aNeg) { if (t.wEmpty === "zero") { return e + "0" } if (t.wEmpty === "sign" || n) { return e + t.aSign } return e } return null } function d(e, t) { e = o(e, t); var n = e.replace(",", "."), r = p(e, t, true); if (r !== null) { return r } var i = ""; if (t.dGroup === 2) { i = /(\d)((\d)(\d{2}?)+)$/ } else if (t.dGroup === 4) { i = /(\d)((\d{4}?)+)$/ } else { i = /(\d)((\d{3}?)+)$/ } var s = e.split(t.aDec); if (t.altDec && s.length === 1) { s = e.split(t.altDec) } var a = s[0]; if (t.aSep) { while (i.test(a)) { a = a.replace(i, "$1" + t.aSep + "$2") } } if (t.mDec !== 0 && s.length > 1) { if (s[1].length > t.mDec) { s[1] = s[1].substring(0, t.mDec) } e = a + t.aDec + s[1] } else { e = a } if (t.aSign) { var f = e.indexOf(t.aNeg) !== -1; e = e.replace(t.aNeg, ""); e = t.pSign === "p" ? t.aSign + e : e + t.aSign; if (f) { e = t.aNeg + e } } if (t.oEvent === "set" && n < 0 && t.nBracket !== null) { e = u(e, t.nBracket, t.oEvent) } return e } function v(e, t) { e = e === "" ? "0" : e.toString(); i(t, "mDec"); var n = "", r = 0, s = "", o = typeof t.aPad === "boolean" || t.aPad === null ? t.aPad ? t.mDec : 0 : +t.aPad; var u = function (e) { var t = o === 0 ? /(\.[1-9]*)0*$/ : o === 1 ? /(\.\d[1-9]*)0*$/ : new RegExp("(\\.\\d{" + o + "}[1-9]*)0*$"); e = e.replace(t, "$1"); if (o === 0) { e = e.replace(/\.$/, "") } return e }; if (e.charAt(0) === "-") { s = "-"; e = e.replace("-", "") } if (!e.match(/^\d/)) { e = "0" + e } if (s === "-" && +e === 0) { s = "" } if (+e > 0 && t.lZero !== "keep" || e.length > 0 && t.lZero === "allow") { e = e.replace(/^0*(\d)/, "$1") } var a = e.lastIndexOf("."), f = a === -1 ? e.length - 1 : a, l = e.length - 1 - f; if (l <= t.mDec) { n = e; if (l < o) { if (a === -1) { n += "." } while (l < o) { var c = "000000".substring(0, o - l); n += c; l += c.length } } else if (l > o) { n = u(n) } else if (l === 0 && o === 0) { n = n.replace(/\.$/, "") } return s + n } var h = a + t.mDec, p = +e.charAt(h + 1), d = e.substring(0, h + 1).split(""), v = e.charAt(h) === "." ? e.charAt(h - 1) % 2 : e.charAt(h) % 2; if (p > 4 && t.mRound === "S" || p > 4 && t.mRound === "A" && s === "" || p > 5 && t.mRound === "A" && s === "-" || p > 5 && t.mRound === "s" || p > 5 && t.mRound === "a" && s === "" || p > 4 && t.mRound === "a" && s === "-" || p > 5 && t.mRound === "B" || p === 5 && t.mRound === "B" && v === 1 || p > 0 && t.mRound === "C" && s === "" || p > 0 && t.mRound === "F" && s === "-" || p > 0 && t.mRound === "U") { for (r = d.length - 1; r >= 0; r -= 1) { if (d[r] !== ".") { d[r] = +d[r] + 1; if (d[r] < 10) { break } if (r > 0) { d[r] = "0" } } } } d = d.slice(0, h + 1); n = u(d.join("")); return +n === 0 ? n : s + n } function m(t, n) { this.settings = n; this.that = t; this.$that = e(t); this.formatted = false; this.settingsClone = s(this.$that, this.settings); this.value = t.value } function g(t) { if (typeof t === "string") { t = t.replace(/\[/g, "\\[").replace(/\]/g, "\\]"); t = "#" + t.replace(/(:|\.)/g, "\\$1") } return e(t) } function y(e, t, n) { var r = e.data("autoNumeric"); if (!r) { r = {}; e.data("autoNumeric", r) } var i = r.holder; if (i === undefined && t || n) { i = new m(e.get(0), t); r.holder = i } return i } m.prototype = { init: function (e) { this.value = this.that.value; this.settingsClone = s(this.$that, this.settings); this.ctrlKey = e.ctrlKey; this.cmdKey = e.metaKey; this.shiftKey = e.shiftKey; this.selection = t(this.that); if (e.type === "keydown" || e.type === "keyup") { this.kdCode = e.keyCode } this.which = e.which; this.processed = false; this.formatted = false }, setSelection: function (e, t, r) { e = Math.max(e, 0); t = Math.min(t, this.that.value.length); this.selection = { start: e, end: t, length: t - e }; if (r === undefined || r) { n(this.that, e, t) } }, setPosition: function (e, t) { this.setSelection(e, e, t) }, getBeforeAfter: function () { var e = this.value, t = e.substring(0, this.selection.start), n = e.substring(this.selection.end, e.length); return [t, n] }, getBeforeAfterStriped: function () { var e = this.getBeforeAfter(); e[0] = o(e[0], this.settingsClone); e[1] = o(e[1], this.settingsClone); return e }, normalizeParts: function (e, t) { var n = this.settingsClone; t = o(t, n); var r = t.match(/^\d/) ? true : "leading"; e = o(e, n, r); if ((e === "" || e === n.aNeg) && n.lZero === "deny") { if (t > "") { t = t.replace(/^0*(\d)/, "$1") } } var i = e + t; if (n.aDec) { var s = i.match(new RegExp("^" + n.aNegRegAutoStrip + "\\" + n.aDec)); if (s) { e = e.replace(s[1], s[1] + "0"); i = e + t } } if (n.wEmpty === "zero" && (i === n.aNeg || i === "")) { e += "0" } return [e, t] }, setValueParts: function (e, t) { var n = this.settingsClone, r = this.normalizeParts(e, t), i = r.join(""), s = r[0].length; if (h(i, n)) { i = a(i, n.aDec, n.mDec); if (s > i.length) { s = i.length } this.value = i; this.setPosition(s, false); return true } return false }, signPosition: function () { var e = this.settingsClone, t = e.aSign, n = this.that; if (t) { var r = t.length; if (e.pSign === "p") { var i = e.aNeg && n.value && n.value.charAt(0) === e.aNeg; return i ? [1, r + 1] : [0, r] } var s = n.value.length; return [s - r, s] } return [1e3, -1] }, expandSelectionOnSign: function (e) { var t = this.signPosition(), n = this.selection; if (n.start < t[1] && n.end > t[0]) { if ((n.start < t[0] || n.end > t[1]) && this.value.substring(Math.max(n.start, t[0]), Math.min(n.end, t[1])).match(/^\s*$/)) { if (n.start < t[0]) { this.setSelection(n.start, t[0], e) } else { this.setSelection(t[1], n.end, e) } } else { this.setSelection(Math.min(n.start, t[0]), Math.max(n.end, t[1]), e) } } }, checkPaste: function () { if (this.valuePartsBeforePaste !== undefined) { var e = this.getBeforeAfter(), t = this.valuePartsBeforePaste; delete this.valuePartsBeforePaste; e[0] = e[0].substr(0, t[0].length) + o(e[0].substr(t[0].length), this.settingsClone); if (!this.setValueParts(e[0], e[1])) { this.value = t.join(""); this.setPosition(t[0].length, false) } } }, skipAllways: function (e) { var t = this.kdCode, n = this.which, r = this.ctrlKey, i = this.cmdKey, s = this.shiftKey; if ((r || i) && e.type === "keyup" && this.valuePartsBeforePaste !== undefined || s && t === 45) { this.checkPaste(); return false } if (t >= 112 && t <= 123 || t >= 91 && t <= 93 || t >= 9 && t <= 31 || t < 8 && (n === 0 || n === t) || t === 144 || t === 145 || t === 45) { return true } if ((r || i) && t === 65) { return true } if ((r || i) && (t === 67 || t === 86 || t === 88)) { if (e.type === "keydown") { this.expandSelectionOnSign() } if (t === 86 || t === 45) { if (e.type === "keydown" || e.type === "keypress") { if (this.valuePartsBeforePaste === undefined) { this.valuePartsBeforePaste = this.getBeforeAfter() } } else { this.checkPaste() } } return e.type === "keydown" || e.type === "keypress" || t === 67 } if (r || i) { return true } if (t === 37 || t === 39) { var o = this.settingsClone.aSep, u = this.selection.start, a = this.that.value; if (e.type === "keydown" && o && !this.shiftKey) { if (t === 37 && a.charAt(u - 2) === o) { this.setPosition(u - 1) } else if (t === 39 && a.charAt(u + 1) === o) { this.setPosition(u + 1) } } return true } if (t >= 34 && t <= 40) { return true } return false }, processAllways: function () { var e; if (this.kdCode === 8 || this.kdCode === 46) { if (!this.selection.length) { e = this.getBeforeAfterStriped(); if (this.kdCode === 8) { e[0] = e[0].substring(0, e[0].length - 1) } else { e[1] = e[1].substring(1, e[1].length) } this.setValueParts(e[0], e[1]) } else { this.expandSelectionOnSign(false); e = this.getBeforeAfterStriped(); this.setValueParts(e[0], e[1]) } return true } return false }, processKeypress: function () { var e = this.settingsClone, t = String.fromCharCode(this.which), n = this.getBeforeAfterStriped(), r = n[0], i = n[1]; if (t === e.aDec || e.altDec && t === e.altDec || (t === "." || t === ",") && this.kdCode === 110) { if (!e.mDec || !e.aDec) { return true } if (e.aNeg && i.indexOf(e.aNeg) > -1) { return true } if (r.indexOf(e.aDec) > -1) { return true } if (i.indexOf(e.aDec) > 0) { return true } if (i.indexOf(e.aDec) === 0) { i = i.substr(1) } this.setValueParts(r + e.aDec, i); return true } if (t === "-" || t === "+") { if (!e.aNeg) { return true } if (r === "" && i.indexOf(e.aNeg) > -1) { r = e.aNeg; i = i.substring(1, i.length) } if (r.charAt(0) === e.aNeg) { r = r.substring(1, r.length) } else { r = t === "-" ? e.aNeg + r : r } this.setValueParts(r, i); return true } if (t >= "0" && t <= "9") { if (e.aNeg && r === "" && i.indexOf(e.aNeg) > -1) { r = e.aNeg; i = i.substring(1, i.length) } if (e.vMax <= 0 && e.vMin < e.vMax && this.value.indexOf(e.aNeg) === -1 && t !== "0") { r = e.aNeg + r } this.setValueParts(r + t, i); return true } return true }, formatQuick: function () { var e = this.settingsClone, t = this.getBeforeAfterStriped(), n = this.value; if ((e.aSep === "" || e.aSep !== "" && n.indexOf(e.aSep) === -1) && (e.aSign === "" || e.aSign !== "" && n.indexOf(e.aSign) === -1)) { var r = [], i = ""; r = n.split(e.aDec); if (r[0].indexOf("-") > -1) { i = "-"; r[0] = r[0].replace("-", ""); t[0] = t[0].replace("-", "") } if (r[0].length > e.mInt && t[0].charAt(0) === "0") { t[0] = t[0].slice(1) } t[0] = i + t[0] } var s = d(this.value, this.settingsClone), o = s.length; if (s) { var u = t[0].split(""), a = 0; for (a; a < u.length; a += 1) { if (!u[a].match("\\d")) { u[a] = "\\" + u[a] } } var f = new RegExp("^.*?" + u.join(".*?")); var l = s.match(f); if (l) { o = l[0].length; if ((o === 0 && s.charAt(0) !== e.aNeg || o === 1 && s.charAt(0) === e.aNeg) && e.aSign && e.pSign === "p") { o = this.settingsClone.aSign.length + (s.charAt(0) === "-" ? 1 : 0) } } else if (e.aSign && e.pSign === "s") { o -= e.aSign.length } } this.that.value = s; this.setPosition(o); this.formatted = true } }; var b = { init: function (t) { return this.each(function () { var r = e(this), i = r.data("autoNumeric"), s = r.data(); if (typeof i !== "object") { var a = { aNum: "0123456789", aSep: ",", dGroup: "3", aDec: ".", altDec: null, aSign: "", pSign: "p", vMax: "999999999.99", vMin: "0.00", mDec: null, mRound: "S", aPad: true, nBracket: null, wEmpty: "empty", lZero: "allow", aForm: true, onSomeEvent: function () { } }; i = e.extend({}, a, s, t); if (i.aDec === i.aSep) { e.error("autoNumeric will not function properly when the decimal character aDec: '" + i.aDec + "' and thousand separator aSep: '" + i.aSep + "' are the same character"); return this } r.data("autoNumeric", i) } else { return this } i.lastSetValue = ""; i.runOnce = false; var l = y(r, i); if (e.inArray(r.prop("tagName"), i.tagList) === -1 && r.prop("tagName") !== "INPUT") { e.error("The <" + r.prop("tagName") + "> is not supported by autoNumeric()"); return this } if (i.runOnce === false && i.aForm) { if (r.is("input[type=text],input[type=tel],input[type=hidden], input:not([type])")) { var m = true; if (r[0].value === "" && i.wEmpty === "empty") { r[0].value = ""; m = false } if (r[0].value === "" && i.wEmpty === "sign") { r[0].value = i.aSign; m = false } if (m) { r.autoNumeric("set", r.val()) } } if (e.inArray(r.prop("tagName"), i.tagList) !== -1 && r.text() !== "") { r.autoNumeric("set", r.text()) } } i.runOnce = true; if (r.is("input[type=text],input[type=tel], input[type=hidden], input:not([type])")) { r.on("keydown.autoNumeric", function (t) { l = y(r); if (l.settings.aDec === l.settings.aSep) { e.error("autoNumeric will not function properly when the decimal character aDec: '" + l.settings.aDec + "' and thousand separator aSep: '" + l.settings.aSep + "' are the same character"); return this } if (l.that.readOnly) { l.processed = true; return true } l.init(t); l.settings.oEvent = "keydown"; if (l.skipAllways(t)) { l.processed = true; return true } if (l.processAllways()) { l.processed = true; l.formatQuick(); t.preventDefault(); return false } l.formatted = false; return true }); r.on("keypress.autoNumeric", function (e) { var t = y(r), n = t.processed; t.init(e); t.settings.oEvent = "keypress"; if (t.skipAllways(e)) { return true } if (n) { e.preventDefault(); return false } if (t.processAllways() || t.processKeypress()) { t.formatQuick(); e.preventDefault(); return false } t.formatted = false }); r.on("keyup.autoNumeric", function (e) { var t = y(r); t.init(e); t.settings.oEvent = "keyup"; var i = t.skipAllways(e); t.kdCode = 0; delete t.valuePartsBeforePaste; if (r[0].value === t.settings.aSign) { if (t.settings.pSign === "s") { n(this, 0, 0) } else { n(this, t.settings.aSign.length, t.settings.aSign.length) } } if (i) { return true } if (this.value === "") { return true } if (!t.formatted) { t.formatQuick() } }); r.on("focusin.autoNumeric", function () { var e = y(r); e.settingsClone.oEvent = "focusin"; if (e.settingsClone.nBracket !== null) { var t = r.val(); r.val(u(t, e.settingsClone.nBracket, e.settingsClone.oEvent)) } e.inVal = r.val(); var i = p(e.inVal, e.settingsClone, true); if (i !== null) { r.val(i); if (e.settings.pSign === "s") { n(this, 0, 0) } else { n(this, e.settings.aSign.length, e.settings.aSign.length) } } }); r.on("focusout.autoNumeric", function () { var e = y(r), t = e.settingsClone, n = r.val(), i = n; e.settingsClone.oEvent = "focusout"; var s = ""; if (t.lZero === "allow") { t.allowLeading = false; s = "leading" } if (n !== "") { n = o(n, t, s); if (p(n, t) === null && h(n, t, r[0])) { n = f(n, t.aDec, t.aNeg); n = v(n, t); n = c(n, t.aDec, t.aNeg) } else { n = "" } } var a = p(n, t, false); if (a === null) { a = d(n, t) } if (a !== i) { r.val(a) } if (a !== e.inVal) { r.change(); delete e.inVal } if (t.nBracket !== null && r.autoNumeric("get") < 0) { e.settingsClone.oEvent = "focusout"; r.val(u(r.val(), t.nBracket, t.oEvent)) } }) } }) }, destroy: function () { return e(this).each(function () { var t = e(this); t.off(".autoNumeric"); t.removeData("autoNumeric") }) }, update: function (t) { return e(this).each(function () { var n = g(e(this)), r = n.data("autoNumeric"); if (typeof r !== "object") { e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method"); return this } var i = n.autoNumeric("get"); r = e.extend(r, t); y(n, r, true); if (r.aDec === r.aSep) { e.error("autoNumeric will not function properly when the decimal character aDec: '" + r.aDec + "' and thousand separator aSep: '" + r.aSep + "' are the same character"); return this } n.data("autoNumeric", r); if (n.val() !== "" || n.text() !== "") { return n.autoNumeric("set", i) } return }) }, set: function (t) { return e(this).each(function () { var n = g(e(this)), r = n.data("autoNumeric"), i = t.toString(), s = t.toString(); if (typeof r !== "object") { e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"); return this } if (s === n.attr("value")) { i = i.replace(",", ".") } if (s !== n.attr("value") && r.runOnce === false) { i = o(i, r) } if (!e.isNumeric(+i)) { return "" } i = l(i, r); r.oEvent = "set"; r.lastSetValue = i; i.toString(); if (i !== "") { i = v(i, r) } i = c(i, r.aDec, r.aNeg); if (!h(i, r)) { i = v("", r) } i = d(i, r); if (n.is("input[type=text],input[type=tel], input[type=hidden], input:not([type])")) { return n.val(i) } if (e.inArray(n.prop("tagName"), r.tagList) !== -1) { return n.text(i) } e.error("The <" + n.prop("tagName") + "> is not supported by autoNumeric()"); return false }) }, get: function () { var t = g(e(this)), n = t.data("autoNumeric"); if (typeof n !== "object") { e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method"); return this } n.oEvent = "get"; var r = ""; if (t.is("input[type=text],input[type=tel], input[type=hidden], input:not([type])")) { r = t.eq(0).val() } else if (e.inArray(t.prop("tagName"), n.tagList) !== -1) { r = t.eq(0).text() } else { e.error("The <" + t.prop("tagName") + "> is not supported by autoNumeric()"); return false } if (r === "" && n.wEmpty === "empty" || r === n.aSign && (n.wEmpty === "sign" || n.wEmpty === "empty")) { return "" } if (n.nBracket !== null && r !== "") { r = u(r, n.nBracket, n.oEvent) } if (n.runOnce || n.aForm === false) { r = o(r, n) } r = f(r, n.aDec, n.aNeg); if (+r === 0 && n.lZero !== "keep") { r = "0" } if (n.lZero === "keep") { return r } r = l(r, n); return r }, getString: function () { var t = false, n = g(e(this)), r = n.serialize(), i = r.split("&"), s = 0; for (s; s < i.length; s += 1) { var o = i[s].split("="); var u = e('*[name="' + decodeURIComponent(o[0]) + '"]').data("autoNumeric"); if (typeof u === "object") { if (o[1] !== null && e('*[name="' + decodeURIComponent(o[0]) + '"]').data("autoNumeric") !== undefined) { o[1] = e('input[name="' + decodeURIComponent(o[0]) + '"]').autoNumeric("get"); i[s] = o.join("="); t = true } } } if (t === true) { return i.join("&") } e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"); return this }, getArray: function () { var t = false, n = g(e(this)), r = n.serializeArray(); e.each(r, function (n, r) { var i = e('*[name="' + decodeURIComponent(r.name) + '"]').data("autoNumeric"); if (typeof i === "object") { if (r.value !== "" && e('*[name="' + decodeURIComponent(r.name) + '"]').data("autoNumeric") !== undefined) { r.value = e('input[name="' + decodeURIComponent(r.name) + '"]').autoNumeric("get").toString() } t = true } }); if (t === true) { return r } e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getArray' method"); return this }, getSettings: function () { var t = g(e(this)); return t.eq(0).data("autoNumeric") } }; e.fn.autoNumeric = function (t) { if (b[t]) { return b[t].apply(this, Array.prototype.slice.call(arguments, 1)) } if (typeof t === "object" || !t) { return b.init.apply(this, arguments) } e.error('Method "' + t + '" is not supported by autoNumeric()') } })(jQuery);


/////-------IOS CHECKBOX--------//////
//http://awardwinningfjords.com/2009/06/16/iphone-style-checkboxes.html
(function () { var iOSCheckbox; var __slice = Array.prototype.slice; iOSCheckbox = (function () { function iOSCheckbox(elem, options) { var key, opts, value; this.elem = $(elem); opts = $.extend({}, iOSCheckbox.defaults, options); for (key in opts) { value = opts[key]; this[key] = value } this.elem.data(this.dataName, this); this.wrapCheckboxWithDivs(); this.attachEvents(); this.disableTextSelection(); if (this.resizeHandle) { this.optionallyResize('handle') } if (this.resizeContainer) { this.optionallyResize('container') } this.initialPosition() } iOSCheckbox.prototype.isDisabled = function () { return this.elem.is(':disabled') }; iOSCheckbox.prototype.wrapCheckboxWithDivs = function () { this.elem.wrap("<div class='" + this.containerClass + "' />"); this.container = this.elem.parent(); this.offLabel = $("<label class='" + this.labelOffClass + "'>\n  <span>" + this.uncheckedLabel + "</span>\n</label>").appendTo(this.container); this.offSpan = this.offLabel.children('span'); this.onLabel = $("<label class='" + this.labelOnClass + "'>\n  <span>" + this.checkedLabel + "</span>\n</label>").appendTo(this.container); this.onSpan = this.onLabel.children('span'); return this.handle = $("<div class='" + this.handleClass + "'>\n  <div class='" + this.handleRightClass + "'>\n    <div class='" + this.handleCenterClass + "' />\n  </div>\n</div>").appendTo(this.container) }; iOSCheckbox.prototype.disableTextSelection = function () { if ($.browser.msie) { return $([this.handle, this.offLabel, this.onLabel, this.container]).attr("unselectable", "on") } }; iOSCheckbox.prototype._getDimension = function (elem, dimension) { if ($.fn.actual != null) { return elem.actual(dimension) } else { return elem[dimension]() } }; iOSCheckbox.prototype.optionallyResize = function (mode) { var newWidth, offLabelWidth, onLabelWidth; onLabelWidth = this._getDimension(this.onLabel, "width"); offLabelWidth = this._getDimension(this.offLabel, "width"); if (mode === "container") { newWidth = onLabelWidth > offLabelWidth ? onLabelWidth : offLabelWidth; newWidth += this._getDimension(this.handle, "width") + this.handleMargin; return this.container.css({ width: newWidth }) } else { newWidth = onLabelWidth > offLabelWidth ? onLabelWidth : offLabelWidth; return this.handle.css({ width: newWidth }) } }; iOSCheckbox.prototype.onMouseDown = function (event) { var x; event.preventDefault(); if (this.isDisabled()) { return } x = event.pageX || event.originalEvent.changedTouches[0].pageX; iOSCheckbox.currentlyClicking = this.handle; iOSCheckbox.dragStartPosition = x; return iOSCheckbox.handleLeftOffset = parseInt(this.handle.css('left'), 10) || 0 }; iOSCheckbox.prototype.onDragMove = function (event, x) { var newWidth, p; if (iOSCheckbox.currentlyClicking !== this.handle) { return } p = (x + iOSCheckbox.handleLeftOffset - iOSCheckbox.dragStartPosition) / this.rightSide; if (p < 0) { p = 0 } if (p > 1) { p = 1 } newWidth = p * this.rightSide; this.handle.css({ left: newWidth }); this.onLabel.css({ width: newWidth + this.handleRadius }); this.offSpan.css({ marginRight: -newWidth }); return this.onSpan.css({ marginLeft: -(1 - p) * this.rightSide }) }; iOSCheckbox.prototype.onDragEnd = function (event, x) { var p; if (iOSCheckbox.currentlyClicking !== this.handle) { return } if (this.isDisabled()) { return } if (iOSCheckbox.dragging) { p = (x - iOSCheckbox.dragStartPosition) / this.rightSide; this.elem.prop('checked', p >= 0.5) } else { this.elem.prop('checked', !this.elem.prop('checked')) } iOSCheckbox.currentlyClicking = null; iOSCheckbox.dragging = null; return this.didChange() }; iOSCheckbox.prototype.refresh = function () { return this.didChange() }; iOSCheckbox.prototype.didChange = function () { var new_left; if (typeof this.onChange === "function") { this.onChange(this.elem, this.elem.prop('checked')) } if (this.isDisabled()) { this.container.addClass(this.disabledClass); return false } else { this.container.removeClass(this.disabledClass) } new_left = this.elem.prop('checked') ? this.rightSide : 0; this.handle.animate({ left: new_left }, this.duration); this.onLabel.animate({ width: new_left + this.handleRadius }, this.duration); this.offSpan.animate({ marginRight: -new_left }, this.duration); return this.onSpan.animate({ marginLeft: new_left - this.rightSide }, this.duration) }; iOSCheckbox.prototype.attachEvents = function () { var localMouseMove, localMouseUp, self; self = this; localMouseMove = function (event) { return self.onGlobalMove.apply(self, arguments) }; localMouseUp = function (event) { self.onGlobalUp.apply(self, arguments); $(document).unbind('mousemove touchmove', localMouseMove); return $(document).unbind('mouseup touchend', localMouseUp) }; this.elem.change(function () { return self.refresh() }); return this.container.bind('mousedown touchstart', function (event) { self.onMouseDown.apply(self, arguments); $(document).bind('mousemove touchmove', localMouseMove); return $(document).bind('mouseup touchend', localMouseUp) }) }; iOSCheckbox.prototype.initialPosition = function () { var containerWidth, offset; containerWidth = this._getDimension(this.container, "width"); this.offLabel.css({ width: containerWidth - this.containerRadius }); offset = this.containerRadius + 1; if ($.browser.msie && $.browser.version < 7) { offset -= 3 } this.rightSide = containerWidth - this._getDimension(this.handle, "width") - offset; if (this.elem.is(':checked')) { this.handle.css({ left: this.rightSide }); this.onLabel.css({ width: this.rightSide + this.handleRadius }); this.offSpan.css({ marginRight: -this.rightSide }) } else { this.onLabel.css({ width: 0 }); this.onSpan.css({ marginLeft: -this.rightSide }) } if (this.isDisabled()) { return this.container.addClass(this.disabledClass) } }; iOSCheckbox.prototype.onGlobalMove = function (event) { var x; if (!(!this.isDisabled() && iOSCheckbox.currentlyClicking)) { return } event.preventDefault(); x = event.pageX || event.originalEvent.changedTouches[0].pageX; if (!iOSCheckbox.dragging && (Math.abs(iOSCheckbox.dragStartPosition - x) > this.dragThreshold)) { iOSCheckbox.dragging = true } return this.onDragMove(event, x) }; iOSCheckbox.prototype.onGlobalUp = function (event) { var x; if (!iOSCheckbox.currentlyClicking) { return } event.preventDefault(); x = event.pageX || event.originalEvent.changedTouches[0].pageX; this.onDragEnd(event, x); return false }; iOSCheckbox.defaults = { duration: 200, checkedLabel: 'ON', uncheckedLabel: 'OFF', resizeHandle: false, resizeContainer: true, disabledClass: 'iOSCheckDisabled', containerClass: 'iOSCheckContainer', labelOnClass: 'iOSCheckLabelOn', labelOffClass: 'iOSCheckLabelOff', handleClass: 'iOSCheckHandle', handleCenterClass: 'iOSCheckHandleCenter', handleRightClass: 'iOSCheckHandleRight', dragThreshold: 5, handleMargin: 15, handleRadius: 4, containerRadius: 5, dataName: 'iOSCheckbox', onChange: function () { } }; return iOSCheckbox })(); $.iphoneStyle = this.iOSCheckbox = iOSCheckbox; $.fn.iphoneStyle = function () { var args, checkbox, dataName, existingControl, method, params, _i, _len, _ref, _ref2, _ref3, _ref4; args = 1 <= arguments.length ? __slice.call(arguments, 0) : []; dataName = (_ref = (_ref2 = args[0]) != null ? _ref2.dataName : void 0) != null ? _ref : iOSCheckbox.defaults.dataName; _ref3 = this.filter(':checkbox'); for (_i = 0, _len = _ref3.length; _i < _len; _i++) { checkbox = _ref3[_i]; existingControl = $(checkbox).data(dataName); if (existingControl != null) { method = args[0], params = 2 <= args.length ? __slice.call(args, 1) : []; if ((_ref4 = existingControl[method]) != null) { _ref4.apply(existingControl, params) } } else { new iOSCheckbox(checkbox, args[0]) } } return this }; $.fn.iOSCheckbox = function (options) { var opts; if (options == null) { options = {} } opts = $.extend({}, options, { resizeHandle: false, disabledClass: 'iOSCheckDisabled', containerClass: 'iOSCheckContainer', labelOnClass: 'iOSCheckLabelOn', labelOffClass: 'iOSCheckLabelOff', handleClass: 'iOSCheckHandle', handleCenterClass: 'iOSCheckHandleCenter', handleRightClass: 'iOSCheckHandleRight', dataName: 'iOSCheckbox' }); return this.iphoneStyle(opts) } }).call(this);


/////-------Timepicker--------//////
/////http://wvega.github.com/timepicker/
"undefined" != typeof jQuery && function (e) { function t(e, t, i) { return Array(i + 1 - e.length).join(t) + e } function i() { if (1 === arguments.length) { var t = arguments[0]; return "string" == typeof t && (t = e.fn.timepicker.parseTime(t)), new Date(0, 0, 0, t.getHours(), t.getMinutes(), t.getSeconds()) } return 3 === arguments.length ? new Date(0, 0, 0, arguments[0], arguments[1], arguments[2]) : 2 === arguments.length ? new Date(0, 0, 0, arguments[0], arguments[1], 0) : new Date(0, 0, 0) } e.TimePicker = function () { var t = this; t.container = e(".ui-timepicker-container"), t.ui = t.container.find(".ui-timepicker"), 0 === t.ui.length && (t.container = e("<div></div>").addClass("ui-timepicker-container").addClass("ui-timepicker-hidden ui-helper-hidden").appendTo("body").hide(), t.ui = e("<ul></ul>").addClass("ui-timepicker").addClass("ui-widget ui-widget-content ui-menu").addClass("ui-corner-all").appendTo(t.container), e.fn.jquery >= "1.4.2" && t.ui.delegate("a", "mouseenter.timepicker", function () { t.activate(!1, e(this).parent()) }).delegate("a", "mouseleave.timepicker", function () { t.deactivate(!1) }).delegate("a", "click.timepicker", function (i) { i.preventDefault(), t.select(!1, e(this).parent()) }), t.ui.bind("click.timepicker, scroll.timepicker", function () { clearTimeout(t.closing) })) }, e.TimePicker.count = 0, e.TimePicker.instance = function () { return e.TimePicker._instance || (e.TimePicker._instance = new e.TimePicker), e.TimePicker._instance }, e.TimePicker.prototype = { keyCode: { ALT: 18, BLOQ_MAYUS: 20, CTRL: 17, DOWN: 40, END: 35, ENTER: 13, HOME: 36, LEFT: 37, NUMPAD_ENTER: 108, PAGE_DOWN: 34, PAGE_UP: 33, RIGHT: 39, SHIFT: 16, TAB: 9, UP: 38 }, _items: function (t, n) { var r, s, a = this, o = e("<ul></ul>"), u = null; for (-1 === t.options.timeFormat.indexOf("m") && 0 !== t.options.interval % 60 && (t.options.interval = 60 * Math.max(Math.round(t.options.interval / 60), 1)), r = n ? i(n) : t.options.startTime ? i(t.options.startTime) : i(t.options.startHour, t.options.startMinutes), s = new Date(r.getTime() + 864e5) ; s > r;) a._isValidTime(t, r) && (u = e("<li>").addClass("ui-menu-item").appendTo(o), e("<a>").addClass("ui-corner-all").text(e.fn.timepicker.formatTime(t.options.timeFormat, r)).appendTo(u), u.data("time-value", r)), r = new Date(r.getTime() + 1e3 * 60 * t.options.interval); return o.children() }, _isValidTime: function (e, t) { var n = null, r = null; return t = i(t), null !== e.options.minTime ? n = i(e.options.minTime) : (null !== e.options.minHour || null !== e.options.minMinutes) && (n = i(e.options.minHour, e.options.minMinutes)), null !== e.options.maxTime ? r = i(e.options.maxTime) : (null !== e.options.maxHour || null !== e.options.maxMinutes) && (r = i(e.options.maxHour, e.options.maxMinutes)), null !== n && null !== r ? t >= n && r >= t : null !== n ? t >= n : null !== r ? r >= t : !0 }, _hasScroll: function () { var e = this.ui.prop !== undefined ? "prop" : "attr"; return this.ui.height() < this.ui[e]("scrollHeight") }, _move: function (e, t, i) { var n = this; if (n.closed() && n.open(e), !n.active) return n.activate(e, n.ui.children(i)), undefined; var r = n.active[t + "All"](".ui-menu-item").eq(0); r.length ? n.activate(e, r) : n.activate(e, n.ui.children(i)) }, register: function (t, i) { var n = this, r = {}; r.element = e(t), r.element.data("TimePicker") || (r.element.data("TimePicker", r), r.options = e.metadata ? e.extend({}, i, r.element.metadata()) : e.extend({}, i), r.widget = n, e.extend(r, { next: function () { return n.next(r) }, previous: function () { return n.previous(r) }, first: function () { return n.first(r) }, last: function () { return n.last(r) }, selected: function () { return n.selected(r) }, open: function () { return n.open(r) }, close: function (e) { return n.close(r, e) }, closed: function () { return n.closed(r) }, destroy: function () { return n.destroy(r) }, parse: function (e) { return n.parse(r, e) }, format: function (e, t) { return n.format(r, e, t) }, getTime: function () { return n.getTime(r) }, setTime: function (e, t) { return n.setTime(r, e, t) }, option: function (e, t) { return n.option(r, e, t) } }), r.element.bind("keydown.timepicker", function (e) { switch (e.which || e.keyCode) { case n.keyCode.ENTER: case n.keyCode.NUMPAD_ENTER: e.preventDefault(), n.closed() ? r.element.trigger("change.timepicker") : n.select(r, n.active); break; case n.keyCode.UP: r.previous(); break; case n.keyCode.DOWN: r.next(); break; default: n.closed() || r.close(!0) } }).bind("focus.timepicker", function () { r.open() }).bind("blur.timepicker", function () { r.close() }).bind("change.timepicker", function () { r.closed() && r.setTime(e.fn.timepicker.parseTime(r.element.val())) })) }, select: function (t, i) { var n = this, r = t === !1 ? n.instance : t; clearTimeout(n.closing), n.setTime(r, e.fn.timepicker.parseTime(i.children("a").text())), n.close(r, !0) }, activate: function (e, t) { var i = this, n = e === !1 ? i.instance : e; if (n === i.instance) { if (i.deactivate(), i._hasScroll()) { var r = t.offset().top - i.ui.offset().top, s = i.ui.scrollTop(), a = i.ui.height(); 0 > r ? i.ui.scrollTop(s + r) : r >= a && i.ui.scrollTop(s + r - a + t.height()) } i.active = t.eq(0).children("a").addClass("ui-state-hover").attr("id", "ui-active-item").end() } }, deactivate: function () { var e = this; e.active && (e.active.children("a").removeClass("ui-state-hover").removeAttr("id"), e.active = null) }, next: function (e) { return (this.closed() || this.instance === e) && this._move(e, "next", ".ui-menu-item:first"), e.element }, previous: function (e) { return (this.closed() || this.instance === e) && this._move(e, "prev", ".ui-menu-item:last"), e.element }, first: function (e) { return this.instance === e ? this.active && 0 === this.active.prevAll(".ui-menu-item").length : !1 }, last: function (e) { return this.instance === e ? this.active && 0 === this.active.nextAll(".ui-menu-item").length : !1 }, selected: function (e) { return this.instance === e ? this.active ? this.active : null : null }, open: function (t) { var i = this, n = t.getTime(), r = t.options.dynamic && n; if (!t.options.dropdown) return t.element; switch ((t.rebuild || !t.items || r) && (t.items = i._items(t, r ? n : null)), (t.rebuild || i.instance !== t || r) && ("1.4.2" > e.fn.jquery ? (i.ui.children().remove(), i.ui.append(t.items), i.ui.find("a").bind("mouseover.timepicker", function () { i.activate(t, e(this).parent()) }).bind("mouseout.timepicker", function () { i.deactivate(t) }).bind("click.timepicker", function (n) { n.preventDefault(), i.select(t, e(this).parent()) })) : (i.ui.children().detach(), i.ui.append(t.items))), t.rebuild = !1, i.container.removeClass("ui-helper-hidden ui-timepicker-hidden ui-timepicker-standard ui-timepicker-corners").show(), t.options.theme) { case "standard": i.container.addClass("ui-timepicker-standard"); break; case "standard-rounded-corners": i.container.addClass("ui-timepicker-standard ui-timepicker-corners"); break; default: } var s, a, o = parseInt(i.ui.css("paddingRight"), 10); return i.ui.hasClass("ui-no-scrollbar") && !t.options.scrollbar && i.ui.css({ paddingRight: o - 40 }), s = i.ui.outerWidth() - i.ui.width() + (i.container.outerWidth() - i.container.width()), a = t.options.zindex ? t.options.zindex : t.element.offsetParent().css("z-index"), i.ui.css({ width: t.element.outerWidth() - s }), i.container.css(e.extend(t.element.offset(), { height: i.ui.outerHeight(), width: i.ui.outerWidth(), zIndex: a, cursor: "default" })), s = t.items.eq(0).outerWidth() - t.items.eq(0).width(), t.items.css("width", i.ui.width() - s), i.ui.hasClass("ui-no-scrollbar") && !t.options.scrollbar ? i.ui.css({ paddingRight: o }) : t.options.scrollbar || i.ui.css({ paddingRight: o + 40 }).addClass("ui-no-scrollbar"), i.container.css("top", parseInt(i.container.css("top"), 10) + t.element.outerHeight()), i.instance = t, n ? t.items.each(function () { var r, s = e(this); return r = "1.4.2" > e.fn.jquery ? e.fn.timepicker.parseTime(s.find("a").text()) : s.data("time-value"), r.getTime() === n.getTime() ? (i.activate(t, s), !1) : !0 }) : i.deactivate(t), t.element }, close: function (e, t) { var i = this; return i.closed() || t ? (clearTimeout(i.closing), i.instance === e && (i.container.addClass("ui-helper-hidden ui-timepicker-hidden").hide(), i.ui.scrollTop(0), i.ui.children().removeClass("ui-state-hover"))) : i.closing = setTimeout(function () { i.close(e, !0) }, 150), e.element }, closed: function () { return this.ui.is(":hidden") }, destroy: function (e) { var t = this; return t.close(e, !0), e.element.unbind(".timepicker").data("TimePicker", null) }, parse: function (t, i) { return e.fn.timepicker.parseTime(i) }, format: function (t, i, n) { return n = n || t.options.timeFormat, e.fn.timepicker.formatTime(n, i) }, getTime: function (t) { var i = this, n = e.fn.timepicker.parseTime(t.element.val()); return n instanceof Date && !i._isValidTime(t, n) ? null : n instanceof Date && t.selectedTime ? t.format(n) === t.format(t.selectedTime) ? t.selectedTime : n : n instanceof Date ? n : null }, setTime: function (t, n, r) { var s = this, a = t.selectedTime; if ("string" == typeof n && (n = t.parse(n)), n && n.getMinutes && s._isValidTime(t, n)) { if (n = i(n), t.selectedTime = n, t.element.val(t.format(n, t.options.timeFormat)), r) return t } else { t.selectedTime = null; t.element.val(""); } return (null !== a || null !== t.selectedTime) && (t.element.trigger("time-change", [n]), e.isFunction(t.options.change) && t.options.change.apply(t.element, [n])), t.element }, option: function (t, i, n) { if (n === undefined) return t.options[i]; var r, s, a = t.getTime(); "string" == typeof i ? (r = {}, r[i] = n) : r = i, s = ["minHour", "minMinutes", "minTime", "maxHour", "maxMinutes", "maxTime", "startHour", "startMinutes", "startTime", "timeFormat", "interval", "dropdown"], e.each(r, function (i) { t.options[i] = r[i], t.rebuild = t.rebuild || e.inArray(i, s) > -1 }), t.rebuild && t.setTime(a) } }, e.TimePicker.defaults = { timeFormat: "hh:mm p", minHour: null, minMinutes: null, minTime: null, maxHour: null, maxMinutes: null, maxTime: null, startHour: null, startMinutes: null, startTime: null, interval: 30, dynamic: !0, theme: "standard", zindex: null, dropdown: !0, scrollbar: !1, change: function () { } }, e.TimePicker.methods = { chainable: ["next", "previous", "open", "close", "destroy", "setTime"] }, e.fn.timepicker = function (t) { if ("string" == typeof t) { var i, n, r = Array.prototype.slice.call(arguments, 1); return i = "option" === t && arguments.length > 2 ? "each" : -1 !== e.inArray(t, e.TimePicker.methods.chainable) ? "each" : "map", n = this[i](function () { var i = e(this), n = i.data("TimePicker"); return "object" == typeof n ? n[t].apply(n, r) : undefined }), "map" === i && 1 === this.length ? e.makeArray(n).shift() : "map" === i ? e.makeArray(n) : n } if (1 === this.length && this.data("TimePicker")) return this.data("TimePicker"); var s = e.extend({}, e.TimePicker.defaults, t); return this.each(function () { e.TimePicker.instance().register(this, s) }) }, e.fn.timepicker.formatTime = function (e, i) { var n = i.getHours(), r = n % 12, s = i.getMinutes(), a = i.getSeconds(), o = { hh: t("" + (0 === r ? 12 : r), "0", 2), HH: t("" + n, "0", 2), mm: t("" + s, "0", 2), ss: t("" + a, "0", 2), h: 0 === r ? 12 : r, H: n, m: s, s: a, p: n > 11 ? "PM" : "AM" }, u = e, c = ""; for (c in o) o.hasOwnProperty(c) && (u = u.replace(RegExp(c, "g"), o[c])); return u = u.replace(RegExp("a", "g"), n > 11 ? "pm" : "am") }, e.fn.timepicker.parseTime = function () { var t = [[/^(\d+)$/, "$1"], [/^:(\d)$/, "$10"], [/^:(\d+)/, "$1"], [/^(\d):([7-9])$/, "0$10$2"], [/^(\d):(\d\d)$/, "$1$2"], [/^(\d):(\d{1,})$/, "0$1$20"], [/^(\d\d):([7-9])$/, "$10$2"], [/^(\d\d):(\d)$/, "$1$20"], [/^(\d\d):(\d*)$/, "$1$2"], [/^(\d{3,}):(\d)$/, "$10$2"], [/^(\d{3,}):(\d{2,})/, "$1$2"], [/^(\d):(\d):(\d)$/, "0$10$20$3"], [/^(\d{1,2}):(\d):(\d\d)/, "$10$2$3"]], n = t.length; return function (r) { var s = i(new Date), a = !1, o = !1, u = !1, c = !1, l = !1; if (r === undefined || !r.toLowerCase) return null; r = r.toLowerCase(), a = /a/.test(r), o = a ? !1 : /p/.test(r), r = r.replace(/[^0-9:]/g, "").replace(/:+/g, ":"); for (var m = 0; n > m; m += 1) if (t[m][0].test(r)) { r = r.replace(t[m][0], t[m][1]); break } return r = r.replace(/:/g, ""), 1 === r.length ? u = r : 2 === r.length ? u = r : 3 === r.length || 5 === r.length ? (u = r.substr(0, 1), c = r.substr(1, 2), l = r.substr(3, 2)) : (4 === r.length || r.length > 5) && (u = r.substr(0, 2), c = r.substr(2, 2), l = r.substr(4, 2)), r.length > 0 && 5 > r.length && (3 > r.length && (c = 0), l = 0), u === !1 || c === !1 || l === !1 ? !1 : (u = parseInt(u, 10), c = parseInt(c, 10), l = parseInt(l, 10), a && 12 === u ? u = 0 : o && 12 > u && (u += 12), u > 24 ? r.length >= 6 ? e.fn.timepicker.parseTime(r.substr(0, 5)) : e.fn.timepicker.parseTime(r + "0" + (a ? "a" : "") + (o ? "p" : "")) : (s.setHours(u, c, l), s)) } }() }(jQuery);

/////-------DateTimepicker--------//////
$.fn.datetimepicker = function (options,val) {
    var element = $(this);
    if (options === "destroy") {
        element.datepicker("destroy");
        (element.next() && element.next().data("TimePicker") ? element.next().remove() : "");
        return element;
    }
    else if (options === "getDateTime") {
        var ref = (element.next().hasClass("ui-datepicker-trigger") ? element.next() : element);
        var d = element.datepicker("getDate");
        var t = ref.next().timepicker().getTime();
        if (d == null) return null;
        t = (t == null ? "00:00 AM" : ref.next().val());
        var dt = d.getFullYear() + "-" + (d.getMonth() + 1) + "-" + d.getDate() + " " + t;
        dt = moment(dt, "YYYY-MM-DD " + Users.TimeFormat_MOM);
        return (dt.isValid() ? dt.toDate() : null);
    }
    else if (options === "setDateTime") {
        var ref = (element.next().hasClass("ui-datepicker-trigger") ? element.next() : element);
        element.datepicker("setDate", val);
        if (val instanceof Date)
            ref.next().timepicker().setTime(val);
        else {
            var t = val.split(' ');
            val = val.replace(t[0], "");
            ref.next().timepicker().setTime(val);
        }
        return element;
    }
    element.datepicker(options);
    var inputTime = $("<input class='entityInput entity-time ui-text' id='" + element.attr("id") + "_time' type='text' />");
    if (element.attr("disabled"))
        inputTime.attr("disabled", "disabled")
    var refElem = (element.next().hasClass("ui-datepicker-trigger") ? element.next() : element);
    var dt = element.datepicker("getDate");
    if (dt) {

        var d = $.datepicker.formatDate(Users.ShortDateFormat_JQ, dt)
        var t = moment(element.val(), Users.ShortDateFormat_MOM+" "+Users.TimeFormat_MOM);
        inputTime.val(t.format(Users.TimeFormat_MOM));
        element.val(d);
    }
    refElem.after(inputTime);
    inputTime.timepicker(options);
}

// $("#div").multiSelect({ onItemAdd: addItem, onDropDownShowing: showTree ,dataSource:[{text:"123"},{text:"456"}]});
//if div is not empty then children will be created as options
$.fn.multiSelect = function (options) {
    var defaults = { onDropDownShowing: null, onItemAdd: null, onItemAdding: null, onChange: null, dropDown: null, dataSource: null, input: "", trigger: "" };
    var opts = $.extend(defaults, options);
    var div = $(this);
    var ms = div.data("_MultiSelect");
    if (!ms) {

        ms = new MultiSelect();
        var ds = null;
        if (div.children().length > 0) {
            ds = [];
            div.children().each(function () { var d = $(this).data(); d.Text = $(this).text(); ds.push(d); });
            div.empty();
        }
        div.addClass("chosen-container chosen-container-multi");
        div.data("_MultiSelect", ms);
        var txt = $("<input autocomplete='off' style='width: 5px;' onblur='$(this).val(\"\")' type='text'/>");

        var li = $("<li class='search-field'></li>")
        var ctr = $("<ul class='multiSelectCtr chosen-choices'></ul>");
        var hnd = Function.createDelegate(ms, ms.dropdownShow);
        if (!opts.input && !opts.trigger)
            ctr.on("click", function (e) { hnd(); e.stopPropagation(); });
        if (opts.input)
            $(opts.input).on("click", function (e) { hnd(); e.stopPropagation(); });
        if (opts.trigger)
            $(opts.trigger).on("click", function (e) { hnd(); e.stopPropagation(); });
        if (div.data("disabled"))
            div.addClass("chosen-disabled");;
        div.append(ctr);
        ctr.append(li);
        li.append(txt);
        ms.host = div;
        ms.input = opts.input;
        ms.trigger = opts.trigger;
        ms.onItemAdd = opts.onItemAdd;
        ms.dropDown = opts.dropDown;
        ms.onDropDownShowing = opts.onDropDownShowing;
        ms.onItemAdding = opts.onItemAdding;
        ms.onChange = opts.onChange;
        ds = (ds ? ds : opts.dataSource);
        if (ds)
            ms.refresh(ds);
    }

    return ms;
}

function MultiSelect() {
    var host;
    var onItemAdd;
    var dropDown;
    var onDropDownShowing;
    this.dropdownShow = function () {
        var ms = this;
        if (ms.host.data("disabled"))
            return;
        ms.host.data("dropdownShowing", true);
        window.setTimeout(function () { ms.host.data("dropdownShowing", false); }, 150);
        if (ms.dropDown)
            ms.dropDown.ShowModal();
        if (typeof ms.onDropDownShowing == "function")
            ms.onDropDownShowing(ms.host);
    }
    this.addItem = function (data, load) {
        if (typeof this.onItemAdding == "function")
            if (this.onItemAdding(this, data, load) == false)
                return;

        var div = this.host;
        var ctr = div.node(0);
        var srchBox = ctr.find('.search-field');
        var item = $("<li class='multiSelectItem search-choice'><span class='item'></span></li>");
        if (typeof data == "string" && data !="")
            item.find('span').html(data);
        else if (typeof data == "object" && !$.isEmpty(data.Text)) {
            item.find('span').html(data.Text);
            for (var p in data) { if (p != "Text") item.data(p, data[p]); }           
        }
        var cl = $("<a class='search-choice-close' href='javascript:void(0)'></a>");
        item.append(cl);
        
        var evt = $.proxy(this.removeItem, this);
        cl.on("click", evt);

        srchBox.before(item);        
        if (typeof this.onItemAdd == "function")
            this.onItemAdd(item, data);

        if (!load && typeof this.onChange == "function") {
            this.onChange(this, data);
            srchBox.node(0).focus();
        }

        if (this.input) {
            var txt = $(this.input).val();
            $(this.input).val((txt + ", " + item.text()).Trim(', '));
            $(this.input).attr("title", $(this.input).val());
            var l = this.getItems().length;
            $(this.input).parent().removeClass("showBtn").addClass(l > 1 ? "showBtn" : "").find(".chip-trigger").html(l);
        }
        
    }
    this.removeItem = function (e) {
        if ($(e.target).closest(".chosen-container").data("disabled"))
            return;
        $(e.target).closest(".multiSelectItem").remove();

        if (this.input) {
            var txt = "";
            var items = this.getItems();
            items.each(function () { txt += $(this).children(".item").text() + ", "; });
            $(this.input).val(txt.Trim(', '));
            $(this.input).attr("title", $(this.input).val());
            var l = items.length;
            $(this.input).parent().removeClass("showBtn").addClass(l > 1 ? "showBtn" : "").find(".chip-trigger").html(l);
            $(this.input).parent().find(".del").setDisplay(l > 0);
            if (l == 0) 
                $(this.input).closest(".erp-Field").removeClass("showChips").find("._lbl").removeClass("active");
            
        }
        if (typeof this.onChange == "function")
            this.onChange(this.host);



        e.stopPropagation();
    } 
    this.removeAllItems = function () {
        var div = this.host;
        div.find(".multiSelectItem").remove();
        if (this.input) {
            $(this.input).val("");
            $(this.input).parent().removeClass("showBtn").find(".chip-trigger").html("0");
            $(this.input).parent().find(".del").hide();
            $(this.input).closest(".erp-Field").removeClass("showChips")
            if (typeof this.onChange == "function")
                this.onChange(this.host);
        }
    }
    this.populateItems = function (ds) {
        var div = this.host;
        for (var i = 0; i < ds.length; i++)
            this.addItem(ds[i],true);
    }
    this.setEnable = function (b) {
        var div = this.host;
        if (!b) {
            div.data("disabled", true);
            div.addClass("chosen-disabled");
        }
        else {
            div.removeData("disabled");
            div.removeClass("chosen-disabled");
        }
    }
    this.refresh = function (ds) {
        var ctr = this.host.node(0)
        var srchBox = ctr.find('.search-field');
        ctr.parent().append(srchBox.hide());
        ctr.empty();
        ctr.append(srchBox.show());
        this.populateItems(ds);
    }
    this.getItems = function () {
        return this.host.find(".multiSelectItem");
    }
}

/////-------Chosen--------//////
/////https://github.com/harvesthq/chosen/blob/master/LICENSE.md
/* Chosen v1.1.0 | (c) 2011-2013 by Harvest | MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md */
!function () { var a, AbstractChosen, Chosen, SelectParser, b, c = {}.hasOwnProperty, d = function (a, b) { function d() { this.constructor = a } for (var e in b) c.call(b, e) && (a[e] = b[e]); return d.prototype = b.prototype, a.prototype = new d, a.__super__ = b.prototype, a }; SelectParser = function () { function SelectParser() { this.options_index = 0, this.parsed = [] } return SelectParser.prototype.add_node = function (a) { return "OPTGROUP" === a.nodeName.toUpperCase() ? this.add_group(a) : this.add_option(a) }, SelectParser.prototype.add_group = function (a) { var b, c, d, e, f, g; for (b = this.parsed.length, this.parsed.push({ array_index: b, group: !0, label: this.escapeExpression(a.label), children: 0, disabled: a.disabled }), f = a.childNodes, g = [], d = 0, e = f.length; e > d; d++) c = f[d], g.push(this.add_option(c, b, a.disabled)); return g }, SelectParser.prototype.add_option = function (a, b, c) { return "OPTION" === a.nodeName.toUpperCase() ? ("" !== a.text ? (null != b && (this.parsed[b].children += 1), this.parsed.push({ array_index: this.parsed.length, options_index: this.options_index, value: a.value, text: a.text, html: a.innerHTML, selected: a.selected, disabled: c === !0 ? c : a.disabled, group_array_index: b, classes: a.className, style: a.style.cssText })) : this.parsed.push({ array_index: this.parsed.length, options_index: this.options_index, empty: !0 }), this.options_index += 1) : void 0 }, SelectParser.prototype.escapeExpression = function (a) { var b, c; return null == a || a === !1 ? "" : /[\&\<\>\"\'\`]/.test(a) ? (b = { "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }, c = /&(?!\w+;)|[\<\>\"\'\`]/g, a.replace(c, function (a) { return b[a] || "&amp;" })) : a }, SelectParser }(), SelectParser.select_to_array = function (a) { var b, c, d, e, f; for (c = new SelectParser, f = a.childNodes, d = 0, e = f.length; e > d; d++) b = f[d], c.add_node(b); return c.parsed }, AbstractChosen = function () { function AbstractChosen(a, b) { this.form_field = a, this.options = null != b ? b : {}, AbstractChosen.browser_is_supported() && (this.is_multiple = this.form_field.multiple, this.set_default_text(), this.set_default_values(), this.setup(), this.set_up_html(), this.register_observers()) } return AbstractChosen.prototype.set_default_values = function () { var a = this; return this.click_test_action = function (b) { return a.test_active_click(b) }, this.activate_action = function (b) { return a.activate_field(b) }, this.active_field = !1, this.mouse_on_container = !1, this.results_showing = !1, this.result_highlighted = null, this.allow_single_deselect = null != this.options.allow_single_deselect && null != this.form_field.options[0] && "" === this.form_field.options[0].text ? this.options.allow_single_deselect : !1, this.disable_search_threshold = this.options.disable_search_threshold || 0, this.disable_search = this.options.disable_search || !1, this.enable_split_word_search = null != this.options.enable_split_word_search ? this.options.enable_split_word_search : !0, this.group_search = null != this.options.group_search ? this.options.group_search : !0, this.search_contains = this.options.search_contains || !1, this.single_backstroke_delete = null != this.options.single_backstroke_delete ? this.options.single_backstroke_delete : !0, this.max_selected_options = this.options.max_selected_options || 1 / 0, this.inherit_select_classes = this.options.inherit_select_classes || !1, this.display_selected_options = null != this.options.display_selected_options ? this.options.display_selected_options : !0, this.display_disabled_options = null != this.options.display_disabled_options ? this.options.display_disabled_options : !0 }, AbstractChosen.prototype.set_default_text = function () { return this.default_text = this.form_field.getAttribute("data-placeholder") ? this.form_field.getAttribute("data-placeholder") : this.is_multiple ? this.options.placeholder_text_multiple || this.options.placeholder_text || AbstractChosen.default_multiple_text : this.options.placeholder_text_single || this.options.placeholder_text || AbstractChosen.default_single_text, this.results_none_found = this.form_field.getAttribute("data-no_results_text") || this.options.no_results_text || AbstractChosen.default_no_result_text }, AbstractChosen.prototype.mouse_enter = function () { return this.mouse_on_container = !0 }, AbstractChosen.prototype.mouse_leave = function () { return this.mouse_on_container = !1 }, AbstractChosen.prototype.input_focus = function () { var a = this; if (this.is_multiple) { if (!this.active_field) return setTimeout(function () { return a.container_mousedown() }, 50) } else if (!this.active_field) return this.activate_field() }, AbstractChosen.prototype.input_blur = function () { var a = this; return this.mouse_on_container ? void 0 : (this.active_field = !1, setTimeout(function () { return a.blur_test() }, 100)) }, AbstractChosen.prototype.results_option_build = function (a) { var b, c, d, e, f; for (b = "", f = this.results_data, d = 0, e = f.length; e > d; d++) c = f[d], b += c.group ? this.result_add_group(c) : this.result_add_option(c), (null != a ? a.first : void 0) && (c.selected && this.is_multiple ? this.choice_build(c) : c.selected && !this.is_multiple && this.single_set_selected_text(c.text)); return b }, AbstractChosen.prototype.result_add_option = function (a) { var b, c; return a.search_match ? this.include_option_in_results(a) ? (b = [], a.disabled || a.selected && this.is_multiple || b.push("active-result"), !a.disabled || a.selected && this.is_multiple || b.push("disabled-result"), a.selected && b.push("result-selected"), null != a.group_array_index && b.push("group-option"), "" !== a.classes && b.push(a.classes), c = document.createElement("li"), c.className = b.join(" "), c.style.cssText = a.style, c.setAttribute("data-option-array-index", a.array_index), c.innerHTML = a.search_text, this.outerHTML(c)) : "" : "" }, AbstractChosen.prototype.result_add_group = function (a) { var b; return a.search_match || a.group_match ? a.active_options > 0 ? (b = document.createElement("li"), b.className = "group-result", b.innerHTML = a.search_text, this.outerHTML(b)) : "" : "" }, AbstractChosen.prototype.results_update_field = function () { return this.set_default_text(), this.is_multiple || this.results_reset_cleanup(), this.result_clear_highlight(), this.results_build(), this.results_showing ? this.winnow_results() : void 0 }, AbstractChosen.prototype.reset_single_select_options = function () { var a, b, c, d, e; for (d = this.results_data, e = [], b = 0, c = d.length; c > b; b++) a = d[b], a.selected ? e.push(a.selected = !1) : e.push(void 0); return e }, AbstractChosen.prototype.results_toggle = function () { return this.results_showing ? this.results_hide() : this.results_show() }, AbstractChosen.prototype.results_search = function () { return this.results_showing ? this.winnow_results() : this.results_show() }, AbstractChosen.prototype.winnow_results = function () { var a, b, c, d, e, f, g, h, i, j, k, l, m; for (this.no_results_clear(), e = 0, g = this.get_search_text(), a = g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"), d = this.search_contains ? "" : "^", c = new RegExp(d + a, "i"), j = new RegExp(a, "i"), m = this.results_data, k = 0, l = m.length; l > k; k++) b = m[k], b.search_match = !1, f = null, this.include_option_in_results(b) && (b.group && (b.group_match = !1, b.active_options = 0), null != b.group_array_index && this.results_data[b.group_array_index] && (f = this.results_data[b.group_array_index], 0 === f.active_options && f.search_match && (e += 1), f.active_options += 1), (!b.group || this.group_search) && (b.search_text = b.group ? b.label : b.html, b.search_match = this.search_string_match(b.search_text, c), b.search_match && !b.group && (e += 1), b.search_match ? (g.length && (h = b.search_text.search(j), i = b.search_text.substr(0, h + g.length) + "</em>" + b.search_text.substr(h + g.length), b.search_text = i.substr(0, h) + "<em>" + i.substr(h)), null != f && (f.group_match = !0)) : null != b.group_array_index && this.results_data[b.group_array_index].search_match && (b.search_match = !0))); return this.result_clear_highlight(), 1 > e && g.length ? (this.update_results_content(""), this.no_results(g)) : (this.update_results_content(this.results_option_build()), this.winnow_results_set_highlight()) }, AbstractChosen.prototype.search_string_match = function (a, b) { var c, d, e, f; if (b.test(a)) return !0; if (this.enable_split_word_search && (a.indexOf(" ") >= 0 || 0 === a.indexOf("[")) && (d = a.replace(/\[|\]/g, "").split(" "), d.length)) for (e = 0, f = d.length; f > e; e++) if (c = d[e], b.test(c)) return !0 }, AbstractChosen.prototype.choices_count = function () { var a, b, c, d; if (null != this.selected_option_count) return this.selected_option_count; for (this.selected_option_count = 0, d = this.form_field.options, b = 0, c = d.length; c > b; b++) a = d[b], a.selected && (this.selected_option_count += 1); return this.selected_option_count }, AbstractChosen.prototype.choices_click = function (a) { return a.preventDefault(), this.results_showing || this.is_disabled ? void 0 : this.results_show() }, AbstractChosen.prototype.keyup_checker = function (a) { var b, c; switch (b = null != (c = a.which) ? c : a.keyCode, this.search_field_scale(), b) { case 8: if (this.is_multiple && this.backstroke_length < 1 && this.choices_count() > 0) return this.keydown_backstroke(); if (!this.pending_backstroke) return this.result_clear_highlight(), this.results_search(); break; case 13: if (a.preventDefault(), this.results_showing) return this.result_select(a); break; case 27: return this.results_showing && this.results_hide(), !0; case 9: case 38: case 40: case 16: case 91: case 17: break; default: return this.results_search() } }, AbstractChosen.prototype.clipboard_event_checker = function () { var a = this; return setTimeout(function () { return a.results_search() }, 50) }, AbstractChosen.prototype.container_width = function () { return null != this.options.width ? this.options.width : "" + this.form_field.offsetWidth + "px" }, AbstractChosen.prototype.include_option_in_results = function (a) { return this.is_multiple && !this.display_selected_options && a.selected ? !1 : !this.display_disabled_options && a.disabled ? !1 : a.empty ? !1 : !0 }, AbstractChosen.prototype.search_results_touchstart = function (a) { return this.touch_started = !0, this.search_results_mouseover(a) }, AbstractChosen.prototype.search_results_touchmove = function (a) { return this.touch_started = !1, this.search_results_mouseout(a) }, AbstractChosen.prototype.search_results_touchend = function (a) { return this.touch_started ? this.search_results_mouseup(a) : void 0 }, AbstractChosen.prototype.outerHTML = function (a) { var b; return a.outerHTML ? a.outerHTML : (b = document.createElement("div"), b.appendChild(a), b.innerHTML) }, AbstractChosen.browser_is_supported = function () { return true }, AbstractChosen.default_multiple_text = "Select Some Options", AbstractChosen.default_single_text = "Select an Option", AbstractChosen.default_no_result_text = "No results match", AbstractChosen }(), a = jQuery, a.fn.extend({ chosen: function (b) { return AbstractChosen.browser_is_supported() ? this.each(function () { var c, d; c = a(this), d = c.data("chosen"), "destroy" === b && d ? d.destroy() : d || c.data("chosen", new Chosen(this, b)) }) : this } }), Chosen = function (c) { function Chosen() { return b = Chosen.__super__.constructor.apply(this, arguments) } return d(Chosen, c), Chosen.prototype.setup = function () { return this.form_field_jq = a(this.form_field), this.current_selectedIndex = this.form_field.selectedIndex, this.is_rtl = this.form_field_jq.hasClass("chosen-rtl") }, Chosen.prototype.set_up_html = function () { var b, c; return b = ["chosen-container"], b.push("chosen-container-" + (this.is_multiple ? "multi" : "single")), this.inherit_select_classes && this.form_field.className && b.push(this.form_field.className), this.is_rtl && b.push("chosen-rtl"), c = { "class": b.join(" "), style: "width: " + this.container_width() + ";", title: this.form_field.title }, this.form_field.id.length && (c.id = this.form_field.id.replace(/[^\w]/g, "_") + "_chosen"), this.container = a("<div />", c), this.is_multiple ? this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="' + this.default_text + '" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>') : this.container.html('<a href="javascript:void(0)" class="chosen-single chosen-default" tabindex="-1"><span>' + this.default_text + '</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" placeholder="Type To ' + ($(this.form_field).attr("editable") == "1" ? "Add New" : "Search") + '" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'), this.form_field_jq.hide().after(this.container), this.dropdown = this.container.find("div.chosen-drop").first(), this.search_field = this.container.find("input").first(), this.search_results = this.container.find("ul.chosen-results").first(), this.search_field_scale(), this.search_no_results = this.container.find("li.no-results").first(), this.is_multiple ? (this.search_choices = this.container.find("ul.chosen-choices").first(), this.search_container = this.container.find("li.search-field").first()) : (this.search_container = this.container.find("div.chosen-search").first(), this.selected_item = this.container.find(".chosen-single").first()), this.results_build(), this.set_tab_index(), this.set_label_behavior(), this.form_field_jq.trigger("chosen:ready", { chosen: this }) }, Chosen.prototype.register_observers = function () { var a = this; return this.container.bind("mousedown.chosen", function (b) { a.container_mousedown(b) }), this.container.bind("mouseup.chosen", function (b) { a.container_mouseup(b) }), this.container.bind("mouseenter.chosen", function (b) { a.mouse_enter(b) }), this.container.bind("mouseleave.chosen", function (b) { a.mouse_leave(b) }), this.search_results.bind("mouseup.chosen", function (b) { a.search_results_mouseup(b) }), this.search_results.bind("mouseover.chosen", function (b) { a.search_results_mouseover(b) }), this.search_results.bind("mouseout.chosen", function (b) { a.search_results_mouseout(b) }), this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen", function (b) { a.search_results_mousewheel(b) }), this.form_field_jq.bind("chosen:updated.chosen", function (b) { a.results_update_field(b) }), this.form_field_jq.bind("chosen:activate.chosen", function (b) { a.activate_field(b) }), this.form_field_jq.bind("chosen:open.chosen", function (b) { a.container_mousedown(b) }), this.form_field_jq.bind("chosen:close.chosen", function (b) { a.input_blur(b) }), this.search_field.bind("blur.chosen", function (b) { a.input_blur(b) }), this.search_field.bind("keyup.chosen", function (b) { a.keyup_checker(b) }), this.search_field.bind("keydown.chosen", function (b) { a.keydown_checker(b) }), this.search_field.bind("focus.chosen", function (b) { a.input_focus(b) }), this.search_field.bind("cut.chosen", function (b) { a.clipboard_event_checker(b) }), this.search_field.bind("paste.chosen", function (b) { a.clipboard_event_checker(b) }), this.is_multiple ? this.search_choices.bind("click.chosen", function (b) { a.choices_click(b) }) : this.container.bind("click.chosen", function (a) { a.preventDefault() }) }, Chosen.prototype.destroy = function () { return a(this.container[0].ownerDocument).unbind("click.chosen", this.click_test_action), this.search_field[0].tabIndex && (this.form_field_jq[0].tabIndex = this.search_field[0].tabIndex), this.container.remove(), this.form_field_jq.removeData("chosen"), this.form_field_jq.show() }, Chosen.prototype.search_field_disabled = function () { return this.is_disabled = this.form_field_jq[0].disabled, this.is_disabled ? (this.container.addClass("chosen-disabled"), this.search_field[0].disabled = !0, this.is_multiple || this.selected_item.unbind("focus.chosen", this.activate_action), this.close_field()) : (this.container.removeClass("chosen-disabled"), this.search_field[0].disabled = !1, this.is_multiple ? void 0 : this.selected_item.bind("focus.chosen", this.activate_action)) }, Chosen.prototype.container_mousedown = function (b) { return this.is_disabled || (b && "mousedown" === b.type && !this.results_showing && b.preventDefault(), null != b && a(b.target).hasClass("search-choice-close")) ? void 0 : (this.active_field ? this.is_multiple || !b || a(b.target)[0] !== this.selected_item[0] && !a(b.target).parents("a.chosen-single").length || (b.preventDefault(), this.results_toggle()) : (this.is_multiple && this.search_field.val(""), a(this.container[0].ownerDocument).bind("click.chosen", this.click_test_action), this.results_show()), this.activate_field()) }, Chosen.prototype.container_mouseup = function (a) { return "ABBR" !== a.target.nodeName || this.is_disabled ? void 0 : this.results_reset(a) }, Chosen.prototype.search_results_mousewheel = function (a) { var b; return a.originalEvent && (b = -a.originalEvent.wheelDelta || a.originalEvent.detail), null != b ? (a.preventDefault(), "DOMMouseScroll" === a.type && (b = 40 * b), this.search_results.scrollTop(b + this.search_results.scrollTop())) : void 0 }, Chosen.prototype.blur_test = function () { return !this.active_field && this.container.hasClass("chosen-container-active") ? this.close_field() : void 0 }, Chosen.prototype.close_field = function () { return a(this.container[0].ownerDocument).unbind("click.chosen", this.click_test_action), this.active_field = !1, this.results_hide(), this.container.removeClass("chosen-container-active"), this.clear_backstroke(), this.show_search_field_default(), this.search_field_scale() }, Chosen.prototype.activate_field = function () { return this.container.addClass("chosen-container-active"), this.active_field = !0, this.search_field.val(this.search_field.val()) /*,this.search_field.focus()*/ }, Chosen.prototype.test_active_click = function (b) { var c; return c = a(b.target).closest(".chosen-container"), c.length && this.container[0] === c[0] ? this.active_field = !0 : this.close_field() }, Chosen.prototype.results_build = function () { return this.parsing = !0, this.selected_option_count = null, this.results_data = SelectParser.select_to_array(this.form_field), this.is_multiple ? this.search_choices.find("li.search-choice").remove() : this.is_multiple || (this.single_set_selected_text(), this.disable_search || this.form_field.options.length <= this.disable_search_threshold ? (this.search_field[0].readOnly = !0, this.container.addClass("chosen-container-single-nosearch")) : (this.search_field[0].readOnly = !1, this.container.removeClass("chosen-container-single-nosearch"))), this.update_results_content(this.results_option_build({ first: !0 })), this.search_field_disabled(), this.show_search_field_default(), this.search_field_scale(), this.parsing = !1 }, Chosen.prototype.result_do_highlight = function (a) { var b, c, d, e, f; if (a.length) { if (this.result_clear_highlight(), this.result_highlight = a, this.result_highlight.addClass("highlighted"), d = parseInt(this.search_results.css("maxHeight"), 10), f = this.search_results.scrollTop(), e = d + f, c = this.result_highlight.position().top + this.search_results.scrollTop(), b = c + this.result_highlight.outerHeight(), b >= e) return this.search_results.scrollTop(b - d > 0 ? b - d : 0); if (f > c) return this.search_results.scrollTop(c) } }, Chosen.prototype.result_clear_highlight = function () { return this.result_highlight && this.result_highlight.removeClass("highlighted"), this.result_highlight = null }, Chosen.prototype.results_show = function () { return this.is_multiple && this.max_selected_options <= this.choices_count() ? (this.form_field_jq.trigger("chosen:maxselected", { chosen: this }), !1) : (this.container.addClass("chosen-with-drop"), this.results_showing = !0, this.search_field.focus(), this.search_field.val(this.search_field.val()), this.winnow_results(), this.form_field_jq.trigger("chosen:showing_dropdown", { chosen: this })) }, Chosen.prototype.update_results_content = function (a) { return this.search_results.html(a) }, Chosen.prototype.results_hide = function () { return this.results_showing && (this.result_clear_highlight(), this.container.removeClass("chosen-with-drop"), this.form_field_jq.trigger("chosen:hiding_dropdown", { chosen: this })), this.results_showing = !1 }, Chosen.prototype.set_tab_index = function () { var a; return this.form_field.tabIndex ? (a = this.form_field.tabIndex, this.form_field.tabIndex = -1, this.search_field[0].tabIndex = a) : void 0 }, Chosen.prototype.set_label_behavior = function () { var b = this; return this.form_field_label = this.form_field_jq.parents("label"), !this.form_field_label.length && this.form_field.id.length && (this.form_field_label = a("label[for='" + this.form_field.id + "']")), this.form_field_label.length > 0 ? this.form_field_label.bind("click.chosen", function (a) { return b.is_multiple ? b.container_mousedown(a) : b.activate_field() }) : void 0 }, Chosen.prototype.show_search_field_default = function () { return this.is_multiple && this.choices_count() < 1 && !this.active_field ? (this.search_field.val(this.default_text), this.search_field.addClass("default")) : (this.search_field.val(""), this.search_field.removeClass("default")) }, Chosen.prototype.search_results_mouseup = function (b) { var c; return c = a(b.target).hasClass("active-result") ? a(b.target) : a(b.target).parents(".active-result").first(), c.length ? (this.result_highlight = c, this.result_select(b), this.search_field.focus()) : void 0 }, Chosen.prototype.search_results_mouseover = function (b) { var c; return c = a(b.target).hasClass("active-result") ? a(b.target) : a(b.target).parents(".active-result").first(), c ? this.result_do_highlight(c) : void 0 }, Chosen.prototype.search_results_mouseout = function (b) { return a(b.target).hasClass("active-result") ? this.result_clear_highlight() : void 0 }, Chosen.prototype.choice_build = function (b) { var c, d, e = this; return c = a("<li />", { "class": "search-choice" }).html("<span>" + b.html + "</span>"), b.disabled ? c.addClass("search-choice-disabled") : (d = a("<a />", { "class": "search-choice-close", "data-option-array-index": b.array_index }), d.bind("click.chosen", function (a) { return e.choice_destroy_link_click(a) }), c.append(d)), this.search_container.before(c) }, Chosen.prototype.choice_destroy_link_click = function (b) { return b.preventDefault(), b.stopPropagation(), this.is_disabled ? void 0 : this.choice_destroy(a(b.target)) }, Chosen.prototype.choice_destroy = function (a) { return this.result_deselect(a[0].getAttribute("data-option-array-index")) ? (this.show_search_field_default(), this.is_multiple && this.choices_count() > 0 && this.search_field.val().length < 1 && this.results_hide(), a.parents("li").first().remove(), this.search_field_scale()) : void 0 }, Chosen.prototype.results_reset = function () { return this.reset_single_select_options(), this.form_field.options[0].selected = !0, this.single_set_selected_text(), this.show_search_field_default(), this.results_reset_cleanup(), this.form_field_jq.trigger("change"), this.active_field ? this.results_hide() : void 0 }, Chosen.prototype.results_reset_cleanup = function () { return this.current_selectedIndex = this.form_field.selectedIndex, this.selected_item.find("abbr").remove() }, Chosen.prototype.result_select = function (a) { var b, c; return this.result_highlight ? (b = this.result_highlight, this.result_clear_highlight(), this.is_multiple && this.max_selected_options <= this.choices_count() ? (this.form_field_jq.trigger("chosen:maxselected", { chosen: this }), !1) : (this.is_multiple ? b.removeClass("active-result") : this.reset_single_select_options(), c = this.results_data[b[0].getAttribute("data-option-array-index")], c.selected = !0, this.form_field.options[c.options_index].selected = !0, this.selected_option_count = null, this.is_multiple ? this.choice_build(c) : this.single_set_selected_text(c.text), (a.metaKey || a.ctrlKey) && this.is_multiple || (!this.is_multiple && this.results_hide()), this.search_field.val(""), (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) && this.form_field_jq.trigger("change", { selected: this.form_field.options[c.options_index].value }), this.current_selectedIndex = this.form_field.selectedIndex, this.search_field_scale())) : void 0 }, Chosen.prototype.single_set_selected_text = function (a) { return null == a && (a = this.default_text), a === this.default_text ? this.selected_item.addClass("chosen-default") : (this.single_deselect_control_build(), this.selected_item.removeClass("chosen-default")), this.selected_item.find("span").text(a) }, Chosen.prototype.result_deselect = function (a) { var b; return b = this.results_data[a], this.form_field.options[b.options_index].disabled ? !1 : (b.selected = !1, this.form_field.options[b.options_index].selected = !1, this.selected_option_count = null, this.result_clear_highlight(), this.results_showing && this.winnow_results(), this.form_field_jq.trigger("change", { deselected: this.form_field.options[b.options_index].value }), this.search_field_scale(), !0) }, Chosen.prototype.single_deselect_control_build = function () { return this.allow_single_deselect ? (this.selected_item.find("abbr").length || this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'), this.selected_item.addClass("chosen-single-with-deselect")) : void 0 }, Chosen.prototype.get_search_text = function () { return this.search_field.val() === this.default_text ? "" : a("<div/>").text(a.trim(this.search_field.val())).html() }, Chosen.prototype.winnow_results_set_highlight = function () { var a, b; return b = this.is_multiple ? [] : this.search_results.find(".result-selected.active-result"), a = b.length ? b.first() : this.search_results.find(".active-result").first(), null != a ? this.result_do_highlight(a) : void 0 }, Chosen.prototype.no_results = function (b) { var c; return c = a('<li class="no-results">' + this.results_none_found + ' "<span></span>"</li>'), c.find("span").first().html(b), this.search_results.append(c), this.form_field_jq.trigger("chosen:no_results", { chosen: this }) }, Chosen.prototype.no_results_clear = function () { return this.search_results.find(".no-results").remove() }, Chosen.prototype.keydown_arrow = function () { var a; return this.results_showing && this.result_highlight ? (a = this.result_highlight.nextAll("li.active-result").first()) ? this.result_do_highlight(a) : void 0 : this.results_show() }, Chosen.prototype.keyup_arrow = function () { var a; return this.results_showing || this.is_multiple ? this.result_highlight ? (a = this.result_highlight.prevAll("li.active-result"), a.length ? this.result_do_highlight(a.first()) : (this.choices_count() > 0 && this.results_hide(), this.result_clear_highlight())) : void 0 : this.results_show() }, Chosen.prototype.keydown_backstroke = function () { var a; return this.pending_backstroke ? (this.choice_destroy(this.pending_backstroke.find("a").first()), this.clear_backstroke()) : (a = this.search_container.siblings("li.search-choice").last(), a.length && !a.hasClass("search-choice-disabled") ? (this.pending_backstroke = a, this.single_backstroke_delete ? this.keydown_backstroke() : this.pending_backstroke.addClass("search-choice-focus")) : void 0) }, Chosen.prototype.clear_backstroke = function () { return this.pending_backstroke && this.pending_backstroke.removeClass("search-choice-focus"), this.pending_backstroke = null }, Chosen.prototype.keydown_checker = function (a) { var b, c; switch (b = null != (c = a.which) ? c : a.keyCode, this.search_field_scale(), 8 !== b && this.pending_backstroke && this.clear_backstroke(), b) { case 8: this.backstroke_length = this.search_field.val().length; break; case 9: this.results_showing && !this.is_multiple && this.result_select(a), this.mouse_on_container = !1; break; case 13: a.preventDefault(); break; case 38: a.preventDefault(), this.keyup_arrow(); break; case 40: a.preventDefault(), this.keydown_arrow() } }, Chosen.prototype.search_field_scale = function () { var b, c, d, e, f, g, h, i, j; if (this.is_multiple) { for (d = 0, h = 0, f = "position:absolute; left: -1000px; top: -1000px; display:none;", g = ["font-size", "font-style", "font-weight", "font-family", "line-height", "text-transform", "letter-spacing"], i = 0, j = g.length; j > i; i++) e = g[i], f += e + ":" + this.search_field.css(e) + ";"; return b = a("<div />", { style: f }), b.text(this.search_field.val()), a("body").append(b), h = b.width() + 25, b.remove(), c = this.container.outerWidth(), h > c - 10 && (h = c - 10), this.search_field.css({ width: h + "px" }) } }, Chosen }(AbstractChosen) }.call(this);
function _addNewListItem(a) {
    a = $(a);
    var txt = a.closest(".chosen-drop").first(".chosen-search").find("input").val();
    var ddl = $("#" + a.closest(".chosen-container").data("elemId"));
    ddl.append("<option value=\"" + txt + "\" >" + txt + "</option>");
    ddl.val(txt).trigger("chosen:updated").trigger("change");

}

(function () { var a, b, c, d = [].indexOf || function (a) { for (var b = 0, c = this.length; c > b; b++) if (b in this && this[b] === a) return b; return -1 }, e = {}.hasOwnProperty, f = function (a, b) { function c() { this.constructor = a } for (var d in b) e.call(b, d) && (a[d] = b[d]); return c.prototype = b.prototype, a.prototype = new c, a.__super__ = b.prototype, a }; b = function () { function a() { } var b; return b = { invalid_select_element: "ChosenOrder::{{function}}: first argument must be a valid HTML Multiple Select element that has been Chosenified!", invalid_selection_array: "ChosenOrder::{{function}}: second argument must be an Array!", unreachable_chosen_container: 'ChosenOrder::{{function}}: could not find the Chosen UI container! To solve the problem, try adding an "id" attribute to your <select> element.' }, a.insertAt = function (a, b, c) { return c.insertBefore(a, c.children[b].nextSibling) }, a.getFlattenedOptionsAndGroups = function (a) { var b, c, d, e, f, g, h, i, j; for (d = Array.prototype.filter.call(a.childNodes, function (a) { var b; return "OPTION" === (b = a.nodeName.toUpperCase()) || "OPTGROUP" === b }), b = [], g = 0, i = d.length; i > g; g++) if (c = d[g], b.push(c), "OPTGROUP" === c.nodeName.toUpperCase()) for (f = Array.prototype.filter.call(c.childNodes, function (a) { return "OPTION" === a.nodeName.toUpperCase() }), h = 0, j = f.length; j > h; h++) e = f[h], b.push(e); return b }, a.isValidMultipleSelectElement = function (a) { return null !== a && "undefined" != typeof a && "SELECT" === a.nodeName && a.multiple }, a.getChosenUIContainer = function (a) { return "" !== a.id ? document.getElementById(a.id.replace(/-/g, "_") + "_chosen") : this.searchChosenUIContainer(a) }, a.isChosenified = function (a) { return null != this.getChosenUIContainer(a) }, a.forceSelection = function (a, b) { var c, e, f, g; for (f = this.getFlattenedOptionsAndGroups(a), c = 0; c < f.length;) e = f[c], g = e.getAttribute("value"), d.call(b, g) >= 0 ? (e.selected = !0, e.setAttribute("selected", "")) : (e.selected = !1, e.removeAttribute("selected")), c++; return this.triggerEvent(a, "chosen:updated") }, a.getSelectionOrder = function (a) { var c, d, e, f, g, h, i, j, k, l; if (null != this.getDOMElement && (a = this.getDOMElement(a)), i = [], !this.isValidMultipleSelectElement(a)) return console.error(b.invalid_select_element.replace("{{function}}", "getSelectionOrder")), i; if (d = this.getChosenUIContainer(a), null == d) return console.error(b.unreachable_chosen_container.replace("{{function}}", "getSelectionOrder")), i; for (c = d.querySelectorAll(".search-choice"), h = this.getFlattenedOptionsAndGroups(a), k = 0, l = c.length; l > k; k++) f = c[k], e = f.querySelectorAll(".search-choice-close")[0], null != e && (j = e.getAttribute(this.relAttributeName)), g = h[j], i.push(g.value); return i }, a.setSelectionOrder = function (a, c, d) { var e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t; if (null != this.getDOMElement && (a = this.getDOMElement(a)), !this.isValidMultipleSelectElement(a)) return void console.error(b.invalid_select_element.replace("{{function}}", "setSelectionOrder")); if (g = this.getChosenUIContainer(a), null == g) return void console.error(b.unreachable_chosen_container.replace("{{function}}", "setSelectionOrder")); if (c instanceof Array) { for ( m = this.getFlattenedOptionsAndGroups(a), null != d && d === !0 && this.forceSelection(a, c), t = [], h = p = 0, r = c.length; r > p; h = ++p) { for (k = c[h], n = null, i = q = 0, s = m.length; s > q; i = ++q) j = m[i], j.value === k && (n = i); f = g.querySelectorAll(".search-choice"), o = this.relAttributeName, l = Array.prototype.filter.call(f, function (a) { return null != a.querySelector("a.search-choice-close[" + o + '="' + n + '"]') })[0], e = g.querySelector("ul.chosen-choices"), t.push(this.insertAt(l, h, g.querySelector("ul.chosen-choices"))) } return t } return console.error(b.invalid_selection_array.replace("{{function}}", "setSelectionOrder")) }, a }(), a = jQuery, a.fn.extend({ getSelectionOrder: function () { return ChosenOrder.getSelectionOrder(this) }, setSelectionOrder: function (a, b) { return ChosenOrder.setSelectionOrder(this, a, b) } }), this.ChosenOrder = function (b) { function d() { return c = d.__super__.constructor.apply(this, arguments) } return f(d, b), d.relAttributeName = "data-option-array-index", d.isjQueryObject = function (a) { return "undefined" != typeof jQuery && null !== jQuery && a instanceof jQuery }, d.getDOMElement = function (a) { return this.isjQueryObject(a) ? a.get(0) : a }, d.searchChosenUIContainer = function (b) { return null != a(b).data("chosen") ? a(b).data("chosen").container[0] : a(b).next(".chosen-container.chosen-container-multi").get(0) }, d.triggerEvent = function (b, c) { return a(b).trigger(c) }, d }(b) }).call(this);

/////-------Color Picker--------//////
$.fn.simpleColorPicker = function (options) {
    var defaults = {
        colorsPerLine: 8,
        colors: ['#000000', '#444444', '#666666', '#999999', '#cccccc', '#ECECEC', '#ffffff'
				, '#ff0000', '#ff9900', '#ffff00', '#00ff00', '#00ffff', '#0000ff', '#9900ff', '#ff00ff'
				, '#850000', '#FF7000', '#ffe599', '#288846', '#CACCFF', '#0085FF', '#5D1FFF', '#FFB3F6'
        ],
        showEffect: '',
        hideEffect: '',
        onChangeColor: false,
        id:""
    };

    var opts = $.extend(defaults, options);
    
    return this.each(function () {
        var txt = $(this);        
        txt.attr("maxlength", 7);
        txt.addClass("color-picker-input");
        if (txt.val().indexOf("#") == 0) {
            txt.css("background-color", txt.val());
            setTxtColor(txt);
        }
        txt.on("blur", function () {
            ($(this).val() == "transparent" ? $(this).val("") : "");
            $(this).css("background-color", ($(this).val() == "" ? "transparent" : "#" + $(this).val().Trim('#')));
        })
        var colorsMarkup = '';
        colorsMarkup = '<li colr="-1" class="color-box trans" title="Not-Set"></li>';
        for (var i = 0; i < opts.colors.length; i++) {
            var item = opts.colors[i];

            var breakLine = '';
            if ((i+1) % opts.colorsPerLine == 0)
                breakLine = 'clear: both; ';

            if (i > 1 && breakLine && $.browser && $.browser.msie && $.browser.version <= 7) {
                breakLine = '';
                colorsMarkup += '<li style="float: none; clear: both; overflow: hidden; background-color: #fff; display: block; height: 1px; line-height: 1px; font-size: 1px; margin-bottom: -2px;"></li>';
            }

            colorsMarkup += '<li colr="'+i+'" class="color-box" style="' + breakLine + 'background-color: ' + item + '" title="' + item + '"></li>';
        }
        var box=[];
        if (opts.id)
            box = $("#" + opts.id);
        if (box.length == 0) {
            box = $('<div class="color-picker" style="position: absolute; left: 0px; top: 0px;z-index:999999999"><ul>' + colorsMarkup + '</ul><div style="clear: both;"></div></div>');
            if (opts.id)
                box.attr("id", opts.id);
            $('body').append(box);
        }
        box.hide();

        box.on("click", '.color-box', function () {
            var _t = txt;
            if (opts.id)
                _t = box.data("__currentInput");
            if (_t.is('input')) {
                _t.val($(this).attr("colr") / 1 == -1 ? "" : opts.colors[$(this).attr("colr") / 1]);
                _t.blur();
                _t.trigger("change");
            }
            if ($.isFunction(defaults.onChangeColor)) {
                defaults.onChangeColor.call(_t, opts.colors[$(this).attr("colr") / 1]);
            }
            hideBox(box);
        });

        $(document).on('click', function () {
            hideBox(box);
        });

        box.click(function (event) {
            event.stopPropagation();
        });

        var positionAndShowBox = function (box, t) {
            var pos = txt.offset();
            var left = pos.left + txt.outerWidth() - box.outerWidth();
            if (left < pos.left) left = pos.left;
            box.css({ left: left, top: (pos.top + txt.outerHeight()) });
            showBox(box);
            if (opts.id)
                box.data("__currentInput",t);
        }

        txt.click(function (event) {
            event.stopPropagation();
            if (!txt.is('input')) {
                // element is not an input so probably a link or div which requires the color box to be shown
                positionAndShowBox(box,txt);
            }
        });
        txt.on("change", function () {
            setTxtColor($(this));
        });
        function setTxtColor(t) {
            if (t.val() == "")
                return;
            var c = hexToRgb(t.val());
            if (c) {
                var hsl = rgb2hsl(c.r, c.g, c.b);
                var lightness = hsl[2] - Math.cos((hsl[0] + 60) / 180 * Math.PI) * 0.1;
                var isLight = lightness > 0.5;
                t.css("color", isLight ? "#000" : "#fff");
            }
        }
        txt.focus(function () {
            positionAndShowBox(box,txt);
        });

        function hideBox(box) {
            if (opts.hideEffect == 'fade')
                box.fadeOut();
            else if (opts.hideEffect == 'slide')
                box.slideUp();
            else
                box.hide();
        }

        function showBox(box) {
            if (opts.showEffect == 'fade')
                box.fadeIn();
            else if (opts.showEffect == 'slide')
                box.slideDown();
            else
                box.show();
        }
    });
};



/////-------Notify--------//////
var __notifyTimeout=0;
$.Notify = function (opt) {
    var n = $("#__spnNotify");
    if (opt === false) {       
        if (n.exists()) {
            if (!n.node(0).isVisible()) {
                n.remove();
                return;
            }
            window.clearTimeout(__notifyTimeout);
            __notifyTimeout= window.setTimeout(function () {
                var n = $("#__spnNotify").node(0);
                n.animate({ "top": -1 * n.outerHeight(true) }, 250, "linear", function () { $("#__spnNotify").remove(); });               
            }, 1000);
        }
    }
    else {
        window.clearTimeout(__notifyTimeout);
        var t = (typeof opt == "string" ? opt : opt.Message);
        n.remove();
        var n = $("<div id='__spnNotify'><span>" + t + "</span></div>");        
        $(document.body).append(n);
        if (t == "")
            n.node(0).hide();
        if (opt.NotifyOnly) {
            n.css({ "height": n.node(0).outerHeight(true), "cursor": "default" });
            __notifyTimeout = window.setTimeout(function () {
                var n = $("#__spnNotify").node(0);
                n.animate({ "top": -1 * n.outerHeight(true) }, 250, "linear", function () { if (!opt.Fixed) $("#__spnNotify").remove(); });
            }, 5000);
        }
        else
            n.css("bottom", 0);
        var n = n.node(0);      
        n.css("top", n.outerHeight(true)*-1)
        n.setVisible(true).animate({ "top": 0 }, 250, "linear");
    }
}


/////-------CheckBoxX--------//////
$.fn.CheckBoxX = function (opt) {
    return this.each(function () {
        var chk = $(this);
        var ctr, lbl;
        if (typeof opt == "string" && opt.toLowerCase() == "refresh") {
            if (!chk.parent().hasClass("toggleChk"))
                return true;
            ctr = chk.parent();
            lbl = ctr.children(".chk-lbl");
        }
        if (typeof opt == "string" && opt.toLowerCase() == "update") {
            if (!chk.parent().hasClass("toggleChk"))
                return true;
            var c = chk;
            c.parent().attr("class", "toggleChk" + (c.parent().hasClass("noLbl") ? " noLbl" : "") + (!c.checked() ? " chk-off" : "")).children(".chk-lbl").html((c.checked() ? $.defaultVal(c.attr("data-chk-on"), "") : $.defaultVal(c.attr("data-chk-off"), "")));
            return true;
        }
        else {
            if (chk.parent().hasClass("toggleChk"))
                return true;
            chk.NewID();
            if (!$.isEmpty(chk.parent().attr("data-chk-on"))) {
                chk.attr("data-chk-on", chk.parent().attr("data-chk-on")); chk.attr("data-chk-off", chk.parent().attr("data-chk-off"))
            }
            var ctr = $("<span class='toggleChk'></span>");
            chk.before(ctr);
            if (chk.css("position").toUpperCase() == "ABSOLUTE")
                ctr.css({ position: "absolute", top: chk.css("top"), left: chk.css("left"), bottom: chk.css("bottom"), right: chk.css("right") });
            ctr.append(chk);
            var lbl = $("<label class=\"chk-lbl\" for=\"" + chk.attr("id") + "\"></label>");
            ctr.append(lbl);
            ctr.append($("<label class=\"chk-handle\"  for=\"" + chk.attr("id") + "\"></label>"));
            chk.on("change", function () {
                c = $(this);
                if (c.isDisabled()) return;
                c.parent().attr("class", "toggleChk" + (c.parent().hasClass("noLbl") ? " noLbl" : "") + (!c.checked() ? " chk-off" : "")).children(".chk-lbl").html((c.checked() ? $.defaultVal(c.attr("data-chk-on"), "") : $.defaultVal(c.attr("data-chk-off"), "")));
            });
        }

        ctr.attr("class", "toggleChk " + (chk.checked() ? "" : " chk-off") + (chk.isDisabled() ? " chk-dis" : ""));
        var on = $.defaultVal(chk.attr("data-chk-on"), ""); var off = $.defaultVal(chk.attr("data-chk-off"), "");
        lbl.css("font-size", chk.css("font-size")); lbl.attr("data-chk-on", on); lbl.attr("data-chk-off", off);
        lbl.html((chk.checked() ? on : off));
        if (on == "" && off == "") {
            lbl.css({ "height": "12px", "width": "" });
            ctr.addClass("noLbl");
        }
        else if (on == "" || off == "")
            lbl.css({ "height": "22px", "width": "34px" });
        if (parseInt(chk.css("min-width")) > 14 && !ctr.hasClass("noLbl")) {
            lbl.css("width", (parseInt(chk.css("min-width")) + 27) + "px");
        }
        else if (on.length > 0 || off.length > 0) {
            var w = $.CharWidth("arial", chk.css("font-size"));
            w = (w < 5 ? 9 : w);
            w = w * (on.length > off.length ? on.length : off.length);
            lbl.css("width", (w + 27) + "px");
        }
    });
};


$.fn.SelectX = function (opt) {
    return this.each(function () {
        if (!$(this).exists())
            return;
        var ddl = $(this).hide();
        var ctr = ddl.parent().hasClass("selectX-ctr") ? ddl.parent() : null;
        var sel, drop = null;
        var refresh = (opt == "refresh");
        var destroy = (opt == "destroy");
        if (destroy) {
            ctr.after(ddl.show());
            ctr.remove();
        }
        else if (ctr == null) {
            refresh = true;
            ctr = $("<div class='selectX-ctr'></div>");
            sel = $("<a href='javascript:void(0)'  class='selectX-input'><span>" + ddl.selectedItem().text() + "</span></a>");
            drop = $("<div class='selectX-dropdown'></div>");
            ctr.append(sel);
            ctr.append(drop);
            ddl.after(ctr);
            ctr.append(ddl);
            ctr.attr("style", ddl.attr("style"));
            ctr.show().css("position", (ddl.css("position").toLowerCase() == "absolute" ? "absolute" : "relative"));
           
            drop.on("click", "A", function (e) {
                if ($(this).hasClass("itemGroup") || $(this).hasClass("_disabled")) { e.stopPropagation(); return; }
                if ($(this).hasClass("selected")) { e.stopPropagation(); $(this).parent().hide(); return; }
                drop.find(".item").removeClass("selected"); $(this).addClass("selected"); ddl.val($(this).attr("val")); ddl.trigger("change");
                $(this).parent().hide(); sel.html($(this).text());
            });
            sel.on("click", function (e) {               
                e.stopPropagation();
                if ($(this).hasClass("_disabled"))
                    return;
                $(this).focus();
                drop.css("width", $(this).outerWidth(true)).toggle();
                if (drop.isVisible()) {
                    drop.position({
                        my: "left top",
                        at: "left bottom",
                        of: $(this)
                    });
                    $(document).one("click", function () {
                        drop.hide();
                    });
                }
            });
        }
        else {
            sel = ctr.children(".selectX-input"); drop = ctr.children(".selectX-dropdown");
        }
        function addItem(ddl,drop,opt) {
            var a = $("<a href='javascript:void(0)' class='item" + (ddl.val() == opt.val() ? " selected" : "") + (opt.attr("disabled") ? " _disabled" : "") + "' val=\"" + opt.val() + "\">" + opt.text() + "</a>");
            drop.append(a);
        }
        if (refresh) {
            if (ddl.attr("disabled"))
                sel.addClass("_disabled");
            drop.empty();
            ddl.children().each(function (i) {
                if ($(this).getStyle("display") == "none")
                    return true;
                if ($(this).prop("tagName") == "OPTGROUP") {
                    drop.append("<a href='javascript:void(0)' class='itemGroup'>" + $(this).attr("label") + "</a>");
                    $(this).children().each(function () { addItem(ddl, drop, $(this)); });
                }
                else
                    addItem(ddl, drop, $(this));
            });
            sel.children().html(ddl.selectedItem().text());
        }
    }
    );
};


/*
	Masked Input plugin for jQuery15
	Copyright (c) 2007-2013 Josh Bush (digitalbush.com)
	Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
	Version: 1.3.1
     $("#product").mask("99/99/9999",{placeholder:" "});
*/
(function (e) { function t() { var e = document.createElement("input"), t = "onpaste"; return e.setAttribute(t, ""), "function" == typeof e[t] ? "paste" : "input" } var n, a = t() + ".mask", r = navigator.userAgent, i = /iphone/i.test(r), o = /android/i.test(r); e.mask = { definitions: { 9: "[0-9]", a: "[A-Za-z]", "*": "[A-Za-z0-9]" }, dataName: "rawMaskFn", placeholder: "_" }, e.fn.extend({ caret: function (e, t) { var n; if (0 !== this.length && !this.is(":hidden")) return "number" == typeof e ? (t = "number" == typeof t ? t : e, this.each(function () { this.setSelectionRange ? this.setSelectionRange(e, t) : this.createTextRange && (n = this.createTextRange(), n.collapse(!0), n.moveEnd("character", t), n.moveStart("character", e), n.select()) })) : (this[0].setSelectionRange ? (e = this[0].selectionStart, t = this[0].selectionEnd) : document.selection && document.selection.createRange && (n = document.selection.createRange(), e = 0 - n.duplicate().moveStart("character", -1e5), t = e + n.text.length), { begin: e, end: t }) }, unmask: function () { return this.trigger("unmask") }, mask: function (t, r) { var c, l, s, u, f, h; return !t && this.length > 0 ? (c = e(this[0]), c.data(e.mask.dataName)()) : (r = e.extend({ placeholder: e.mask.placeholder, completed: null }, r), l = e.mask.definitions, s = [], u = h = t.length, f = null, e.each(t.split(""), function (e, t) { "?" == t ? (h--, u = e) : l[t] ? (s.push(RegExp(l[t])), null === f && (f = s.length - 1)) : s.push(null) }), this.trigger("unmask").each(function () { function c(e) { for (; h > ++e && !s[e];); return e } function d(e) { for (; --e >= 0 && !s[e];); return e } function m(e, t) { var n, a; if (!(0 > e)) { for (n = e, a = c(t) ; h > n; n++) if (s[n]) { if (!(h > a && s[n].test(R[a]))) break; R[n] = R[a], R[a] = r.placeholder, a = c(a) } b(), x.caret(Math.max(f, e)) } } function p(e) { var t, n, a, i; for (t = e, n = r.placeholder; h > t; t++) if (s[t]) { if (a = c(t), i = R[t], R[t] = n, !(h > a && s[a].test(i))) break; n = i } } function g(e) { var t, n, a, r = e.which; 8 === r || 46 === r || i && 127 === r ? (t = x.caret(), n = t.begin, a = t.end, 0 === a - n && (n = 46 !== r ? d(n) : a = c(n - 1), a = 46 === r ? c(a) : a), k(n, a), m(n, a - 1), e.preventDefault()) : 27 == r && (x.val(S), x.caret(0, y()), e.preventDefault()) } function v(t) { var n, a, i, l = t.which, u = x.caret(); t.ctrlKey || t.altKey || t.metaKey || 32 > l || l && (0 !== u.end - u.begin && (k(u.begin, u.end), m(u.begin, u.end - 1)), n = c(u.begin - 1), h > n && (a = String.fromCharCode(l), s[n].test(a) && (p(n), R[n] = a, b(), i = c(n), o ? setTimeout(e.proxy(e.fn.caret, x, i), 0) : x.caret(i), r.completed && i >= h && r.completed.call(x))), t.preventDefault()) } function k(e, t) { var n; for (n = e; t > n && h > n; n++) s[n] && (R[n] = r.placeholder) } function b() { x.val(R.join("")) } function y(e) { var t, n, a = x.val(), i = -1; for (t = 0, pos = 0; h > t; t++) if (s[t]) { for (R[t] = r.placeholder; pos++ < a.length;) if (n = a.charAt(pos - 1), s[t].test(n)) { R[t] = n, i = t; break } if (pos > a.length) break } else R[t] === a.charAt(pos) && t !== u && (pos++, i = t); return e ? b() : u > i + 1 ? (x.val(""), k(0, h)) : (b(), x.val(x.val().substring(0, i + 1))), u ? t : f } var x = e(this), R = e.map(t.split(""), function (e) { return "?" != e ? l[e] ? r.placeholder : e : void 0 }), S = x.val(); x.data(e.mask.dataName, function () { return e.map(R, function (e, t) { return s[t] && e != r.placeholder ? e : null }).join("") }), x.attr("readonly") || x.one("unmask", function () { x.unbind(".mask").removeData(e.mask.dataName) }).bind("focus.mask", function () { clearTimeout(n); var e; S = x.val(), e = y(), n = setTimeout(function () { b(), e == t.length ? x.caret(0, e) : x.caret(e) }, 10) }).bind("blur.mask", function () { y(), x.val() != S && x.change() }).bind("keydown.mask", g).bind("keypress.mask", v).bind(a, function () { setTimeout(function () { var e = y(!0); x.caret(e), r.completed && e == x.val().length && r.completed.call(x) }, 0) }), y() })) } }) })(jQuery);


// ProgressBar.js 1.0.1
// https://kimmobrunfeldt.github.io/progressbar.js
// License: MIT
!function (a) { if ("object" == typeof exports && "undefined" != typeof module) module.exports = a(); else if ("function" == typeof define && define.amd) define([], a); else { var b; b = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, b.ProgressBar = a() } }(function () { var a; return function b(a, c, d) { function e(g, h) { if (!c[g]) { if (!a[g]) { var i = "function" == typeof require && require; if (!h && i) return i(g, !0); if (f) return f(g, !0); var j = new Error("Cannot find module '" + g + "'"); throw j.code = "MODULE_NOT_FOUND", j } var k = c[g] = { exports: {} }; a[g][0].call(k.exports, function (b) { var c = a[g][1][b]; return e(c ? c : b) }, k, k.exports, b, a, c, d) } return c[g].exports } for (var f = "function" == typeof require && require, g = 0; g < d.length; g++) e(d[g]); return e }({ 1: [function (b, c, d) { (function () { var b = this || Function("return this")(), e = function () { "use strict"; function e() { } function f(a, b) { var c; for (c in a) Object.hasOwnProperty.call(a, c) && b(c) } function g(a, b) { return f(b, function (c) { a[c] = b[c] }), a } function h(a, b) { f(b, function (c) { "undefined" == typeof a[c] && (a[c] = b[c]) }) } function i(a, b, c, d, e, f, g) { var h, i, k, l = f > a ? 0 : (a - f) / e; for (h in b) b.hasOwnProperty(h) && (i = g[h], k = "function" == typeof i ? i : o[i], b[h] = j(c[h], d[h], k, l)); return b } function j(a, b, c, d) { return a + (b - a) * c(d) } function k(a, b) { var c = n.prototype.filter, d = a._filterArgs; f(c, function (e) { "undefined" != typeof c[e][b] && c[e][b].apply(a, d) }) } function l(a, b, c, d, e, f, g, h, j, l, m) { v = b + c + d, w = Math.min(m || u(), v), x = w >= v, y = d - (v - w), a.isPlaying() && (x ? (j(g, a._attachment, y), a.stop(!0)) : (a._scheduleId = l(a._timeoutHandler, s), k(a, "beforeTween"), b + c > w ? i(1, e, f, g, 1, 1, h) : i(w, e, f, g, d, b + c, h), k(a, "afterTween"), j(e, a._attachment, y))) } function m(a, b) { var c = {}, d = typeof b; return "string" === d || "function" === d ? f(a, function (a) { c[a] = b }) : f(a, function (a) { c[a] || (c[a] = b[a] || q) }), c } function n(a, b) { this._currentState = a || {}, this._configured = !1, this._scheduleFunction = p, "undefined" != typeof b && this.setConfig(b) } var o, p, q = "linear", r = 500, s = 1e3 / 60, t = Date.now ? Date.now : function () { return +new Date }, u = "undefined" != typeof SHIFTY_DEBUG_NOW ? SHIFTY_DEBUG_NOW : t; p = "undefined" != typeof window ? window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || window.mozCancelRequestAnimationFrame && window.mozRequestAnimationFrame || setTimeout : setTimeout; var v, w, x, y; return n.prototype.tween = function (a) { return this._isTweening ? this : (void 0 === a && this._configured || this.setConfig(a), this._timestamp = u(), this._start(this.get(), this._attachment), this.resume()) }, n.prototype.setConfig = function (a) { a = a || {}, this._configured = !0, this._attachment = a.attachment, this._pausedAtTime = null, this._scheduleId = null, this._delay = a.delay || 0, this._start = a.start || e, this._step = a.step || e, this._finish = a.finish || e, this._duration = a.duration || r, this._currentState = g({}, a.from) || this.get(), this._originalState = this.get(), this._targetState = g({}, a.to) || this.get(); var b = this; this._timeoutHandler = function () { l(b, b._timestamp, b._delay, b._duration, b._currentState, b._originalState, b._targetState, b._easing, b._step, b._scheduleFunction) }; var c = this._currentState, d = this._targetState; return h(d, c), this._easing = m(c, a.easing || q), this._filterArgs = [c, this._originalState, d, this._easing], k(this, "tweenCreated"), this }, n.prototype.get = function () { return g({}, this._currentState) }, n.prototype.set = function (a) { this._currentState = a }, n.prototype.pause = function () { return this._pausedAtTime = u(), this._isPaused = !0, this }, n.prototype.resume = function () { return this._isPaused && (this._timestamp += u() - this._pausedAtTime), this._isPaused = !1, this._isTweening = !0, this._timeoutHandler(), this }, n.prototype.seek = function (a) { a = Math.max(a, 0); var b = u(); return this._timestamp + a === 0 ? this : (this._timestamp = b - a, this.isPlaying() || (this._isTweening = !0, this._isPaused = !1, l(this, this._timestamp, this._delay, this._duration, this._currentState, this._originalState, this._targetState, this._easing, this._step, this._scheduleFunction, b), this.pause()), this) }, n.prototype.stop = function (a) { return this._isTweening = !1, this._isPaused = !1, this._timeoutHandler = e, (b.cancelAnimationFrame || b.webkitCancelAnimationFrame || b.oCancelAnimationFrame || b.msCancelAnimationFrame || b.mozCancelRequestAnimationFrame || b.clearTimeout)(this._scheduleId), a && (k(this, "beforeTween"), i(1, this._currentState, this._originalState, this._targetState, 1, 0, this._easing), k(this, "afterTween"), k(this, "afterTweenEnd"), this._finish.call(this, this._currentState, this._attachment)), this }, n.prototype.isPlaying = function () { return this._isTweening && !this._isPaused }, n.prototype.setScheduleFunction = function (a) { this._scheduleFunction = a }, n.prototype.dispose = function () { var a; for (a in this) this.hasOwnProperty(a) && delete this[a] }, n.prototype.filter = {}, n.prototype.formula = { linear: function (a) { return a } }, o = n.prototype.formula, g(n, { now: u, each: f, tweenProps: i, tweenProp: j, applyFilter: k, shallowCopy: g, defaults: h, composeEasingObject: m }), "function" == typeof SHIFTY_DEBUG_NOW && (b.timeoutHandler = l), "object" == typeof d ? c.exports = n : "function" == typeof a && a.amd ? a(function () { return n }) : "undefined" == typeof b.Tweenable && (b.Tweenable = n), n }(); !function () { e.shallowCopy(e.prototype.formula, { easeInQuad: function (a) { return Math.pow(a, 2) }, easeOutQuad: function (a) { return -(Math.pow(a - 1, 2) - 1) }, easeInOutQuad: function (a) { return (a /= .5) < 1 ? .5 * Math.pow(a, 2) : -.5 * ((a -= 2) * a - 2) }, easeInCubic: function (a) { return Math.pow(a, 3) }, easeOutCubic: function (a) { return Math.pow(a - 1, 3) + 1 }, easeInOutCubic: function (a) { return (a /= .5) < 1 ? .5 * Math.pow(a, 3) : .5 * (Math.pow(a - 2, 3) + 2) }, easeInQuart: function (a) { return Math.pow(a, 4) }, easeOutQuart: function (a) { return -(Math.pow(a - 1, 4) - 1) }, easeInOutQuart: function (a) { return (a /= .5) < 1 ? .5 * Math.pow(a, 4) : -.5 * ((a -= 2) * Math.pow(a, 3) - 2) }, easeInQuint: function (a) { return Math.pow(a, 5) }, easeOutQuint: function (a) { return Math.pow(a - 1, 5) + 1 }, easeInOutQuint: function (a) { return (a /= .5) < 1 ? .5 * Math.pow(a, 5) : .5 * (Math.pow(a - 2, 5) + 2) }, easeInSine: function (a) { return -Math.cos(a * (Math.PI / 2)) + 1 }, easeOutSine: function (a) { return Math.sin(a * (Math.PI / 2)) }, easeInOutSine: function (a) { return -.5 * (Math.cos(Math.PI * a) - 1) }, easeInExpo: function (a) { return 0 === a ? 0 : Math.pow(2, 10 * (a - 1)) }, easeOutExpo: function (a) { return 1 === a ? 1 : -Math.pow(2, -10 * a) + 1 }, easeInOutExpo: function (a) { return 0 === a ? 0 : 1 === a ? 1 : (a /= .5) < 1 ? .5 * Math.pow(2, 10 * (a - 1)) : .5 * (-Math.pow(2, -10 * --a) + 2) }, easeInCirc: function (a) { return -(Math.sqrt(1 - a * a) - 1) }, easeOutCirc: function (a) { return Math.sqrt(1 - Math.pow(a - 1, 2)) }, easeInOutCirc: function (a) { return (a /= .5) < 1 ? -.5 * (Math.sqrt(1 - a * a) - 1) : .5 * (Math.sqrt(1 - (a -= 2) * a) + 1) }, easeOutBounce: function (a) { return 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + .75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + .9375 : 7.5625 * (a -= 2.625 / 2.75) * a + .984375 }, easeInBack: function (a) { var b = 1.70158; return a * a * ((b + 1) * a - b) }, easeOutBack: function (a) { var b = 1.70158; return (a -= 1) * a * ((b + 1) * a + b) + 1 }, easeInOutBack: function (a) { var b = 1.70158; return (a /= .5) < 1 ? .5 * (a * a * (((b *= 1.525) + 1) * a - b)) : .5 * ((a -= 2) * a * (((b *= 1.525) + 1) * a + b) + 2) }, elastic: function (a) { return -1 * Math.pow(4, -8 * a) * Math.sin((6 * a - 1) * (2 * Math.PI) / 2) + 1 }, swingFromTo: function (a) { var b = 1.70158; return (a /= .5) < 1 ? .5 * (a * a * (((b *= 1.525) + 1) * a - b)) : .5 * ((a -= 2) * a * (((b *= 1.525) + 1) * a + b) + 2) }, swingFrom: function (a) { var b = 1.70158; return a * a * ((b + 1) * a - b) }, swingTo: function (a) { var b = 1.70158; return (a -= 1) * a * ((b + 1) * a + b) + 1 }, bounce: function (a) { return 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + .75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + .9375 : 7.5625 * (a -= 2.625 / 2.75) * a + .984375 }, bouncePast: function (a) { return 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 2 - (7.5625 * (a -= 1.5 / 2.75) * a + .75) : 2.5 / 2.75 > a ? 2 - (7.5625 * (a -= 2.25 / 2.75) * a + .9375) : 2 - (7.5625 * (a -= 2.625 / 2.75) * a + .984375) }, easeFromTo: function (a) { return (a /= .5) < 1 ? .5 * Math.pow(a, 4) : -.5 * ((a -= 2) * Math.pow(a, 3) - 2) }, easeFrom: function (a) { return Math.pow(a, 4) }, easeTo: function (a) { return Math.pow(a, .25) } }) }(), function () { function a(a, b, c, d, e, f) { function g(a) { return ((n * a + o) * a + p) * a } function h(a) { return ((q * a + r) * a + s) * a } function i(a) { return (3 * n * a + 2 * o) * a + p } function j(a) { return 1 / (200 * a) } function k(a, b) { return h(m(a, b)) } function l(a) { return a >= 0 ? a : 0 - a } function m(a, b) { var c, d, e, f, h, j; for (e = a, j = 0; 8 > j; j++) { if (f = g(e) - a, l(f) < b) return e; if (h = i(e), l(h) < 1e-6) break; e -= f / h } if (c = 0, d = 1, e = a, c > e) return c; if (e > d) return d; for (; d > c;) { if (f = g(e), l(f - a) < b) return e; a > f ? c = e : d = e, e = .5 * (d - c) + c } return e } var n = 0, o = 0, p = 0, q = 0, r = 0, s = 0; return p = 3 * b, o = 3 * (d - b) - p, n = 1 - p - o, s = 3 * c, r = 3 * (e - c) - s, q = 1 - s - r, k(a, j(f)) } function b(b, c, d, e) { return function (f) { return a(f, b, c, d, e, 1) } } e.setBezierFunction = function (a, c, d, f, g) { var h = b(c, d, f, g); return h.displayName = a, h.x1 = c, h.y1 = d, h.x2 = f, h.y2 = g, e.prototype.formula[a] = h }, e.unsetBezierFunction = function (a) { delete e.prototype.formula[a] } }(), function () { function a(a, b, c, d, f, g) { return e.tweenProps(d, b, a, c, 1, g, f) } var b = new e; b._filterArgs = [], e.interpolate = function (c, d, f, g, h) { var i = e.shallowCopy({}, c), j = h || 0, k = e.composeEasingObject(c, g || "linear"); b.set({}); var l = b._filterArgs; l.length = 0, l[0] = i, l[1] = c, l[2] = d, l[3] = k, e.applyFilter(b, "tweenCreated"), e.applyFilter(b, "beforeTween"); var m = a(c, i, d, f, k, j); return e.applyFilter(b, "afterTween"), m } }(), function (a) { function b(a, b) { var c, d = [], e = a.length; for (c = 0; e > c; c++) d.push("_" + b + "_" + c); return d } function c(a) { var b = a.match(v); return b ? (1 === b.length || a[0].match(u)) && b.unshift("") : b = ["", ""], b.join(A) } function d(b) { a.each(b, function (a) { var c = b[a]; "string" == typeof c && c.match(z) && (b[a] = e(c)) }) } function e(a) { return i(z, a, f) } function f(a) { var b = g(a); return "rgb(" + b[0] + "," + b[1] + "," + b[2] + ")" } function g(a) { return a = a.replace(/#/, ""), 3 === a.length && (a = a.split(""), a = a[0] + a[0] + a[1] + a[1] + a[2] + a[2]), B[0] = h(a.substr(0, 2)), B[1] = h(a.substr(2, 2)), B[2] = h(a.substr(4, 2)), B } function h(a) { return parseInt(a, 16) } function i(a, b, c) { var d = b.match(a), e = b.replace(a, A); if (d) for (var f, g = d.length, h = 0; g > h; h++) f = d.shift(), e = e.replace(A, c(f)); return e } function j(a) { return i(x, a, k) } function k(a) { for (var b = a.match(w), c = b.length, d = a.match(y)[0], e = 0; c > e; e++) d += parseInt(b[e], 10) + ","; return d = d.slice(0, -1) + ")" } function l(d) { var e = {}; return a.each(d, function (a) { var f = d[a]; if ("string" == typeof f) { var g = r(f); e[a] = { formatString: c(f), chunkNames: b(g, a) } } }), e } function m(b, c) { a.each(c, function (a) { for (var d = b[a], e = r(d), f = e.length, g = 0; f > g; g++) b[c[a].chunkNames[g]] = +e[g]; delete b[a] }) } function n(b, c) { a.each(c, function (a) { var d = b[a], e = o(b, c[a].chunkNames), f = p(e, c[a].chunkNames); d = q(c[a].formatString, f), b[a] = j(d) }) } function o(a, b) { for (var c, d = {}, e = b.length, f = 0; e > f; f++) c = b[f], d[c] = a[c], delete a[c]; return d } function p(a, b) { C.length = 0; for (var c = b.length, d = 0; c > d; d++) C.push(a[b[d]]); return C } function q(a, b) { for (var c = a, d = b.length, e = 0; d > e; e++) c = c.replace(A, +b[e].toFixed(4)); return c } function r(a) { return a.match(w) } function s(b, c) { a.each(c, function (a) { var d, e = c[a], f = e.chunkNames, g = f.length, h = b[a]; if ("string" == typeof h) { var i = h.split(" "), j = i[i.length - 1]; for (d = 0; g > d; d++) b[f[d]] = i[d] || j } else for (d = 0; g > d; d++) b[f[d]] = h; delete b[a] }) } function t(b, c) { a.each(c, function (a) { var d = c[a], e = d.chunkNames, f = e.length, g = b[e[0]], h = typeof g; if ("string" === h) { for (var i = "", j = 0; f > j; j++) i += " " + b[e[j]], delete b[e[j]]; b[a] = i.substr(1) } else b[a] = g }) } var u = /(\d|\-|\.)/, v = /([^\-0-9\.]+)/g, w = /[0-9.\-]+/g, x = new RegExp("rgb\\(" + w.source + /,\s*/.source + w.source + /,\s*/.source + w.source + "\\)", "g"), y = /^.*\(/, z = /#([0-9]|[a-f]){3,6}/gi, A = "VAL", B = [], C = []; a.prototype.filter.token = { tweenCreated: function (a, b, c, e) { d(a), d(b), d(c), this._tokenData = l(a) }, beforeTween: function (a, b, c, d) { s(d, this._tokenData), m(a, this._tokenData), m(b, this._tokenData), m(c, this._tokenData) }, afterTween: function (a, b, c, d) { n(a, this._tokenData), n(b, this._tokenData), n(c, this._tokenData), t(d, this._tokenData) } } }(e) }).call(null) }, {}], 2: [function (a, b, c) { var d = a("./shape"), e = a("./utils"), f = function (a, b) { this._pathTemplate = "M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}", this.containerAspectRatio = 1, d.apply(this, arguments) }; f.prototype = new d, f.prototype.constructor = f, f.prototype._pathString = function (a) { var b = a.strokeWidth; a.trailWidth && a.trailWidth > a.strokeWidth && (b = a.trailWidth); var c = 50 - b / 2; return e.render(this._pathTemplate, { radius: c, "2radius": 2 * c }) }, f.prototype._trailString = function (a) { return this._pathString(a) }, b.exports = f }, { "./shape": 7, "./utils": 8 }], 3: [function (a, b, c) { var d = a("./shape"), e = a("./utils"), f = function (a, b) { this._pathTemplate = "M 0,{center} L 100,{center}", d.apply(this, arguments) }; f.prototype = new d, f.prototype.constructor = f, f.prototype._initializeSvg = function (a, b) { a.setAttribute("viewBox", "0 0 100 " + b.strokeWidth), a.setAttribute("preserveAspectRatio", "none") }, f.prototype._pathString = function (a) { return e.render(this._pathTemplate, { center: a.strokeWidth / 2 }) }, f.prototype._trailString = function (a) { return this._pathString(a) }, b.exports = f }, { "./shape": 7, "./utils": 8 }], 4: [function (a, b, c) { b.exports = { Line: a("./line"), Circle: a("./circle"), SemiCircle: a("./semicircle"), Path: a("./path"), Shape: a("./shape"), utils: a("./utils") } }, { "./circle": 2, "./line": 3, "./path": 5, "./semicircle": 6, "./shape": 7, "./utils": 8 }], 5: [function (a, b, c) { var d = a("shifty"), e = a("./utils"), f = { easeIn: "easeInCubic", easeOut: "easeOutCubic", easeInOut: "easeInOutCubic" }, g = function h(a, b) { if (!(this instanceof h)) throw new Error("Constructor was called without new keyword"); b = e.extend({ duration: 800, easing: "linear", from: {}, to: {}, step: function () { } }, b); var c; c = e.isString(a) ? document.querySelector(a) : a, this.path = c, this._opts = b, this._tweenable = null; var d = this.path.getTotalLength(); this.path.style.strokeDasharray = d + " " + d, this.set(0) }; g.prototype.value = function () { var a = this._getComputedDashOffset(), b = this.path.getTotalLength(), c = 1 - a / b; return parseFloat(c.toFixed(6), 10) }, g.prototype.set = function (a) { this.stop(), this.path.style.strokeDashoffset = this._progressToOffset(a); var b = this._opts.step; if (e.isFunction(b)) { var c = this._easing(this._opts.easing), d = this._calculateTo(a, c), f = this._opts.shape || this; b(d, f, this._opts.attachment) } }, g.prototype.stop = function () { this._stopTween(), this.path.style.strokeDashoffset = this._getComputedDashOffset() }, g.prototype.animate = function (a, b, c) { b = b || {}, e.isFunction(b) && (c = b, b = {}); var f = e.extend({}, b), g = e.extend({}, this._opts); b = e.extend(g, b); var h = this._easing(b.easing), i = this._resolveFromAndTo(a, h, f); this.stop(), this.path.getBoundingClientRect(); var j = this._getComputedDashOffset(), k = this._progressToOffset(a), l = this; this._tweenable = new d, this._tweenable.tween({ from: e.extend({ offset: j }, i.from), to: e.extend({ offset: k }, i.to), duration: b.duration, easing: h, step: function (a) { l.path.style.strokeDashoffset = a.offset; var c = b.shape || l; b.step(a, c, b.attachment) }, finish: function (a) { e.isFunction(c) && c() } }) }, g.prototype._getComputedDashOffset = function () { var a = window.getComputedStyle(this.path, null); return parseFloat(a.getPropertyValue("stroke-dashoffset"), 10) }, g.prototype._progressToOffset = function (a) { var b = this.path.getTotalLength(); return b - a * b }, g.prototype._resolveFromAndTo = function (a, b, c) { return c.from && c.to ? { from: c.from, to: c.to } : { from: this._calculateFrom(b), to: this._calculateTo(a, b) } }, g.prototype._calculateFrom = function (a) { return d.interpolate(this._opts.from, this._opts.to, this.value(), a) }, g.prototype._calculateTo = function (a, b) { return d.interpolate(this._opts.from, this._opts.to, a, b) }, g.prototype._stopTween = function () { null !== this._tweenable && (this._tweenable.stop(), this._tweenable = null) }, g.prototype._easing = function (a) { return f.hasOwnProperty(a) ? f[a] : a }, b.exports = g }, { "./utils": 8, shifty: 1 }], 6: [function (a, b, c) { var d = a("./shape"), e = a("./circle"), f = a("./utils"), g = function (a, b) { this._pathTemplate = "M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0", this.containerAspectRatio = 2, d.apply(this, arguments) }; g.prototype = new d, g.prototype.constructor = g, g.prototype._initializeSvg = function (a, b) { a.setAttribute("viewBox", "0 0 100 50") }, g.prototype._initializeTextContainer = function (a, b, c) { a.text.style && (c.style.top = "auto", c.style.bottom = "0", a.text.alignToBottom ? f.setStyle(c, "transform", "translate(-50%, 0)") : f.setStyle(c, "transform", "translate(-50%, 50%)")) }, g.prototype._pathString = e.prototype._pathString, g.prototype._trailString = e.prototype._trailString, b.exports = g }, { "./circle": 2, "./shape": 7, "./utils": 8 }], 7: [function (a, b, c) { var d = a("./path"), e = a("./utils"), f = "Object is destroyed", g = function h(a, b) { if (!(this instanceof h)) throw new Error("Constructor was called without new keyword"); if (0 !== arguments.length) { this._opts = e.extend({ color: "#555", strokeWidth: 1, trailColor: null, trailWidth: null, fill: null, text: { style: { color: null, position: "absolute", left: "50%", top: "50%", padding: 0, margin: 0, transform: { prefix: !0, value: "translate(-50%, -50%)" } }, autoStyleContainer: !0, alignToBottom: !0, value: null, className: "progressbar-text" }, svgStyle: { display: "block", width: "100%" }, warnings: !1 }, b, !0), e.isObject(b) && void 0 !== b.svgStyle && (this._opts.svgStyle = b.svgStyle), e.isObject(b) && e.isObject(b.text) && void 0 !== b.text.style && (this._opts.text.style = b.text.style); var c, f = this._createSvgView(this._opts); if (c = e.isString(a) ? document.querySelector(a) : a, !c) throw new Error("Container does not exist: " + a); this._container = c, this._container.appendChild(f.svg), this._opts.warnings && this._warnContainerAspectRatio(this._container), this._opts.svgStyle && e.setStyles(f.svg, this._opts.svgStyle), this.svg = f.svg, this.path = f.path, this.trail = f.trail, this.text = null; var g = e.extend({ attachment: void 0, shape: this }, this._opts); this._progressPath = new d(f.path, g), e.isObject(this._opts.text) && null !== this._opts.text.value && this.setText(this._opts.text.value) } }; g.prototype.animate = function (a, b, c) { if (null === this._progressPath) throw new Error(f); this._progressPath.animate(a, b, c) }, g.prototype.stop = function () { if (null === this._progressPath) throw new Error(f); void 0 !== this._progressPath && this._progressPath.stop() }, g.prototype.destroy = function () { if (null === this._progressPath) throw new Error(f); this.stop(), this.svg.parentNode.removeChild(this.svg), this.svg = null, this.path = null, this.trail = null, this._progressPath = null, null !== this.text && (this.text.parentNode.removeChild(this.text), this.text = null) }, g.prototype.set = function (a) { if (null === this._progressPath) throw new Error(f); this._progressPath.set(a) }, g.prototype.value = function () { if (null === this._progressPath) throw new Error(f); return void 0 === this._progressPath ? 0 : this._progressPath.value() }, g.prototype.setText = function (a) { if (null === this._progressPath) throw new Error(f); null === this.text && (this.text = this._createTextContainer(this._opts, this._container), this._container.appendChild(this.text)), e.isObject(a) ? (e.removeChildren(this.text), this.text.appendChild(a)) : this.text.innerHTML = a }, g.prototype._createSvgView = function (a) { var b = document.createElementNS("http://www.w3.org/2000/svg", "svg"); this._initializeSvg(b, a); var c = null; (a.trailColor || a.trailWidth) && (c = this._createTrail(a), b.appendChild(c)); var d = this._createPath(a); return b.appendChild(d), { svg: b, path: d, trail: c } }, g.prototype._initializeSvg = function (a, b) { a.setAttribute("viewBox", "0 0 100 100") }, g.prototype._createPath = function (a) { var b = this._pathString(a); return this._createPathElement(b, a, '_path') }, g.prototype._createTrail = function (a) { var b = this._trailString(a), c = e.extend({}, a); return c.trailColor || (c.trailColor = "#eee"), c.trailWidth || (c.trailWidth = c.strokeWidth), c.color = c.trailColor, c.strokeWidth = c.trailWidth, c.fill = null, this._createPathElement(b, c, '_trail') }, g.prototype._createPathElement = function (a, b, cl) { var c = document.createElementNS("http://www.w3.org/2000/svg", "path"); if (cl) c.setAttribute("class",cl); return c.setAttribute("d", a), c.setAttribute("stroke", b.color), c.setAttribute("stroke-width", b.strokeWidth), b.fill ? c.setAttribute("fill", b.fill) : c.setAttribute("fill-opacity", "0"), c }, g.prototype._createTextContainer = function (a, b) { var c = document.createElement("div"); c.className = a.text.className; var d = a.text.style; return d && (a.text.autoStyleContainer && (b.style.position = "relative"), e.setStyles(c, d), d.color || (c.style.color = a.color)), this._initializeTextContainer(a, b, c), c }, g.prototype._initializeTextContainer = function (a, b, c) { }, g.prototype._pathString = function (a) { throw new Error("Override this function for each progress bar") }, g.prototype._trailString = function (a) { throw new Error("Override this function for each progress bar") }, g.prototype._warnContainerAspectRatio = function (a) { if (this.containerAspectRatio) { var b = window.getComputedStyle(a, null), c = parseFloat(b.getPropertyValue("width"), 10), d = parseFloat(b.getPropertyValue("height"), 10); e.floatEquals(this.containerAspectRatio, c / d) || (console.warn("Incorrect aspect ratio of container", "#" + a.id, "detected:", b.getPropertyValue("width") + "(width)", "/", b.getPropertyValue("height") + "(height)", "=", c / d), console.warn("Aspect ratio of should be", this.containerAspectRatio)) } }, b.exports = g }, { "./path": 5, "./utils": 8 }], 8: [function (a, b, c) { function d(a, b, c) { a = a || {}, b = b || {}, c = c || !1; for (var e in b) if (b.hasOwnProperty(e)) { var f = a[e], g = b[e]; c && l(f) && l(g) ? a[e] = d(f, g, c) : a[e] = g } return a } function e(a, b) { var c = a; for (var d in b) if (b.hasOwnProperty(d)) { var e = b[d], f = "\\{" + d + "\\}", g = new RegExp(f, "g"); c = c.replace(g, e) } return c } function f(a, b, c) { for (var d = a.style, e = 0; e < p.length; ++e) { var f = p[e]; d[f + h(b)] = c } d[b] = c } function g(a, b) { m(b, function (b, c) { null !== b && void 0 !== b && (l(b) && b.prefix === !0 ? f(a, c, b.value) : a.style[c] = b) }) } function h(a) { return a.charAt(0).toUpperCase() + a.slice(1) } function i(a) { return "string" == typeof a || a instanceof String } function j(a) { return "function" == typeof a } function k(a) { return "[object Array]" === Object.prototype.toString.call(a) } function l(a) { if (k(a)) return !1; var b = typeof a; return "object" === b && !!a } function m(a, b) { for (var c in a) if (a.hasOwnProperty(c)) { var d = a[c]; b(d, c) } } function n(a, b) { return Math.abs(a - b) < q } function o(a) { for (; a.firstChild;) a.removeChild(a.firstChild) } var p = "Webkit Moz O ms".split(" "), q = .001; b.exports = { extend: d, render: e, setStyle: f, setStyles: g, capitalize: h, isString: i, isFunction: j, isObject: l, forEachObject: m, floatEquals: n, removeChildren: o } }, {}] }, {}, [4])(4) });


/*
* iziToast | v1.4.0
* http://izitoast.marcelodolce.com
* by Marcelo Dolce.
*/
!function (t, e) { "function" == typeof define && define.amd ? define([], e(t)) : "object" == typeof exports ? module.exports = e(t) : t.iziToast = e(t) }("undefined" != typeof global ? global : window || this.window || this.global, function (t) { "use strict"; var e = {}, n = "iziToast", o = (document.querySelector("body"), !!/Mobi/.test(navigator.userAgent)), i = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor), s = "undefined" != typeof InstallTrigger, a = "ontouchstart" in document.documentElement, r = ["bottomRight", "bottomLeft", "bottomCenter", "topRight", "topLeft", "topCenter", "center"], l = { info: { color: "blue", icon: "ico-info" }, success: { color: "green", icon: "ico-success" }, warning: { color: "orange", icon: "ico-warning" }, error: { color: "red", icon: "ico-error" }, question: { color: "yellow", icon: "ico-question" } }, d = 568, c = {}; e.children = {}; var u = { id: null, "class": "", title: "", titleColor: "", titleSize: "", titleLineHeight: "", message: "", messageColor: "", messageSize: "", messageLineHeight: "", backgroundColor: "", theme: "light", color: "", icon: "", iconText: "", iconColor: "", iconUrl: null, image: "", imageWidth: 50, maxWidth: null, zindex: null, layout: 1, balloon: !1, close: !0,disableCloseTransition:false, closeOnEscape: !1, closeOnClick: !1, displayMode: 0, position: "bottomRight", target: "", targetFirst: !0, timeout: 5e3, rtl: !1, animateInside: !0, drag: !0, pauseOnHover: !0, resetOnHover: !1, progressBar: !0, progressBarColor: "", progressBarEasing: "linear", overlay: !1, overlayClose: !1, overlayColor: "rgba(0, 0, 0, 0.6)", transitionIn: "fadeInUp", transitionOut: "fadeOut", transitionInMobile: "fadeInUp", transitionOutMobile: "fadeOutDown", buttons: {}, inputs: {}, onOpening: function () { }, onOpened: function () { }, onClosing: function () { }, onClosed: function () { } }; if ("remove" in Element.prototype || (Element.prototype.remove = function () { this.parentNode && this.parentNode.removeChild(this) }), "function" != typeof window.CustomEvent) { var p = function (t, e) { e = e || { bubbles: !1, cancelable: !1, detail: void 0 }; var n = document.createEvent("CustomEvent"); return n.initCustomEvent(t, e.bubbles, e.cancelable, e.detail), n }; p.prototype = window.Event.prototype, window.CustomEvent = p } var m = function (t, e, n) { if ("[object Object]" === Object.prototype.toString.call(t)) for (var o in t) Object.prototype.hasOwnProperty.call(t, o) && e.call(n, t[o], o, t); else if (t) for (var i = 0, s = t.length; s > i; i++) e.call(n, t[i], i, t) }, g = function (t, e) { var n = {}; return m(t, function (e, o) { n[o] = t[o] }), m(e, function (t, o) { n[o] = e[o] }), n }, f = function (t) { var e = document.createDocumentFragment(), n = document.createElement("div"); for (n.innerHTML = t; n.firstChild;) e.appendChild(n.firstChild); return e }, v = function (t) { var e = btoa(encodeURIComponent(t)); return e.replace(/=/g, "") }, y = function (t) { return "#" == t.substring(0, 1) || "rgb" == t.substring(0, 3) || "hsl" == t.substring(0, 3) }, h = function (t) { try { return btoa(atob(t)) == t } catch (e) { return !1 } }, b = function () { return { move: function (t, e, o, a) { var r, l = .3, d = 180; 0 !== a && (t.classList.add(n + "-dragged"), t.style.transform = "translateX(" + a + "px)", a > 0 ? (r = (d - a) / d, l > r && e.hide(g(o, { transitionOut: "fadeOutRight", transitionOutMobile: "fadeOutRight" }), t, "drag")) : (r = (d + a) / d, l > r && e.hide(g(o, { transitionOut: "fadeOutLeft", transitionOutMobile: "fadeOutLeft" }), t, "drag")), t.style.opacity = r, l > r && ((i || s) && (t.style.left = a + "px"), t.parentNode.style.opacity = l, this.stopMoving(t, null))) }, startMoving: function (t, e, n, o) { o = o || window.event; var i = a ? o.touches[0].clientX : o.clientX, s = t.style.transform.replace("px)", ""); s = s.replace("translateX(", ""); var r = i - s; n.transitionIn && t.classList.remove(n.transitionIn), n.transitionInMobile && t.classList.remove(n.transitionInMobile), t.style.transition = "", a ? document.ontouchmove = function (o) { o.preventDefault(), o = o || window.event; var i = o.touches[0].clientX, s = i - r; b.move(t, e, n, s) } : document.onmousemove = function (o) { o.preventDefault(), o = o || window.event; var i = o.clientX, s = i - r; b.move(t, e, n, s) } }, stopMoving: function (t, e) { a ? document.ontouchmove = function () { } : document.onmousemove = function () { }, t.style.opacity = "", t.style.transform = "", t.classList.contains(n + "-dragged") && (t.classList.remove(n + "-dragged"), t.style.transition = "transform 0.4s ease, opacity 0.4s ease", setTimeout(function () { t.style.transition = "" }, 400)) } } }(); return e.setSetting = function (t, n, o) { e.children[t][n] = o }, e.getSetting = function (t, n) { return e.children[t][n] }, e.destroy = function () { m(document.querySelectorAll("." + n + "-overlay"), function (t, e) { t.remove() }), m(document.querySelectorAll("." + n + "-wrapper"), function (t, e) { t.remove() }), m(document.querySelectorAll("." + n), function (t, e) { t.remove() }), this.children = {}, document.removeEventListener(n + "-opened", {}, !1), document.removeEventListener(n + "-opening", {}, !1), document.removeEventListener(n + "-closing", {}, !1), document.removeEventListener(n + "-closed", {}, !1), document.removeEventListener("keyup", {}, !1), c = {} }, e.settings = function (t) { e.destroy(), c = t, u = g(u, t || {}) }, m(l, function (t, n) { e[n] = function (e) { var n = g(c, e || {}); n = g(t, n || {}), this.show(n) } }), e.progress = function (t, e, o) { var i = this, s = e.getAttribute("data-iziToast-ref"), a = g(this.children[s], t || {}), r = e.querySelector("." + n + "-progressbar div"); return { start: function () { "undefined" == typeof a.time.REMAINING && (e.classList.remove(n + "-reseted"), null !== r && (r.style.transition = "width " + a.timeout + "ms " + a.progressBarEasing, r.style.width = "0%"), a.time.START = (new Date).getTime(), a.time.END = a.time.START + a.timeout, a.time.TIMER = setTimeout(function () { clearTimeout(a.time.TIMER), e.classList.contains(n + "-closing") || (i.hide(a, e, "timeout"), "function" == typeof o && o.apply(i)) }, a.timeout), i.setSetting(s, "time", a.time)) }, pause: function () { if ("undefined" != typeof a.time.START && !e.classList.contains(n + "-paused") && !e.classList.contains(n + "-reseted")) { if (e.classList.add(n + "-paused"), a.time.REMAINING = a.time.END - (new Date).getTime(), clearTimeout(a.time.TIMER), i.setSetting(s, "time", a.time), null !== r) { var t = window.getComputedStyle(r), l = t.getPropertyValue("width"); r.style.transition = "none", r.style.width = l } "function" == typeof o && setTimeout(function () { o.apply(i) }, 10) } }, resume: function () { "undefined" != typeof a.time.REMAINING ? (e.classList.remove(n + "-paused"), null !== r && (r.style.transition = "width " + a.time.REMAINING + "ms " + a.progressBarEasing, r.style.width = "0%"), a.time.END = (new Date).getTime() + a.time.REMAINING, a.time.TIMER = setTimeout(function () { clearTimeout(a.time.TIMER), e.classList.contains(n + "-closing") || (i.hide(a, e, "timeout"), "function" == typeof o && o.apply(i)) }, a.time.REMAINING), i.setSetting(s, "time", a.time)) : this.start() }, reset: function () { clearTimeout(a.time.TIMER), delete a.time.REMAINING, i.setSetting(s, "time", a.time), e.classList.add(n + "-reseted"), e.classList.remove(n + "-paused"), null !== r && (r.style.transition = "none", r.style.width = "100%"), "function" == typeof o && setTimeout(function () { o.apply(i) }, 10) } } }, e.hide = function (t, e, i) { "object" != typeof e && (e = document.querySelector(e)); var s = this, a = g(this.children[e.getAttribute("data-iziToast-ref")], t || {}); a.closedBy = i || null, delete a.time.REMAINING, e.classList.add(n + "-closing"), function () { var t = document.querySelector("." + n + "-overlay"); if (null !== t) { var e = t.getAttribute("data-iziToast-ref"); e = e.split(","); var o = e.indexOf(String(a.ref)); -1 !== o && e.splice(o, 1), t.setAttribute("data-iziToast-ref", e.join()), 0 === e.length && (t.classList.remove("fadeIn"), t.classList.add("fadeOut"), setTimeout(function () { t.remove(); }, a.disableCloseTransition ? 10 : 700)) } }(), a.transitionIn && e.classList.remove(a.transitionIn), a.transitionInMobile && e.classList.remove(a.transitionInMobile), o || window.innerWidth <= d ? a.transitionOutMobile && e.classList.add(a.transitionOutMobile) : a.transitionOut && e.classList.add(a.transitionOut); var r = e.parentNode.offsetHeight; e.parentNode.style.height = r + "px", e.style.pointerEvents = "none", (!o || window.innerWidth > d) && (e.parentNode.style.transitionDelay = "0.2s"); try { var l = new CustomEvent(n + "-closing", { detail: a, bubbles: !0, cancelable: !0 }); document.dispatchEvent(l) } catch (c) { console.warn(c) } setTimeout(function () { e.parentNode.style.height = "0px", e.parentNode.style.overflow = "", setTimeout(function () { delete s.children[a.ref], e.parentNode.remove(); try { var t = new CustomEvent(n + "-closed", { detail: a, bubbles: !0, cancelable: !0 }); document.dispatchEvent(t) } catch (o) { console.warn(o) } "undefined" != typeof a.onClosed && a.onClosed.apply(null, [a, e, i]) }, a.disableCloseTransition ? 15 : 1e3) }, a.disableCloseTransition ? 5 : 200), "undefined" != typeof a.onClosing && a.onClosing.apply(null, [a, e, i]) }, e.show = function (t) { var i = this, s = g(c, t || {}); if (s = g(u, s), s.time = {}, null === s.id && (s.id = v(s.title + s.message + s.color)), 1 === s.displayMode || "once" == s.displayMode) try { if (document.querySelectorAll("." + n + "#" + s.id).length > 0) return !1 } catch (l) { console.warn("[" + n + "] Could not find an element with this selector: #" + s.id + ". Try to set an valid id.") } if (2 === s.displayMode || "replace" == s.displayMode) try { m(document.querySelectorAll("." + n + "#" + s.id), function (t, e) { i.hide(s, t, "replaced") }) } catch (l) { console.warn("[" + n + "] Could not find an element with this selector: #" + s.id + ". Try to set an valid id.") } s.ref = (new Date).getTime() + Math.floor(1e7 * Math.random() + 1), e.children[s.ref] = s; var p = { body: document.querySelector("body"), overlay: document.createElement("div"), toast: document.createElement("div"), toastBody: document.createElement("div"), toastTexts: document.createElement("div"), toastCapsule: document.createElement("div"), cover: document.createElement("div"), buttons: document.createElement("div"), inputs: document.createElement("div"), icon: s.iconUrl ? document.createElement("img") : document.createElement("i"), wrapper: null }; p.toast.setAttribute("data-iziToast-ref", s.ref), p.toast.appendChild(p.toastBody), p.toastCapsule.appendChild(p.toast), function () { if (p.toast.classList.add(n), p.toast.classList.add(n + "-opening"), p.toastCapsule.classList.add(n + "-capsule"), p.toastBody.classList.add(n + "-body"), p.toastTexts.classList.add(n + "-texts"), o || window.innerWidth <= d ? s.transitionInMobile && p.toast.classList.add(s.transitionInMobile) : s.transitionIn && p.toast.classList.add(s.transitionIn), s["class"]) { var t = s["class"].split(" "); m(t, function (t, e) { p.toast.classList.add(t) }) } s.id && (p.toast.id = s.id), s.rtl && (p.toast.classList.add(n + "-rtl"), p.toast.setAttribute("dir", "rtl")), s.layout > 1 && p.toast.classList.add(n + "-layout" + s.layout), s.balloon && p.toast.classList.add(n + "-balloon"), s.maxWidth && (isNaN(s.maxWidth) ? p.toast.style.maxWidth = s.maxWidth : p.toast.style.maxWidth = s.maxWidth + "px"), "" === s.theme && "light" === s.theme || p.toast.classList.add(n + "-theme-" + s.theme), s.color && (y(s.color) ? p.toast.style.background = s.color : p.toast.classList.add(n + "-color-" + s.color)), s.backgroundColor && (p.toast.style.background = s.backgroundColor, s.balloon && (p.toast.style.borderColor = s.backgroundColor)) }(), function () { s.image && (p.cover.classList.add(n + "-cover"), p.cover.style.width = s.imageWidth + "px", h(s.image.replace(/ /g, "")) ? p.cover.style.backgroundImage = "url(data:image/png;base64," + s.image.replace(/ /g, "") + ")" : p.cover.style.backgroundImage = "url(" + s.image + ")", s.rtl ? p.toastBody.style.marginRight = s.imageWidth + 10 + "px" : p.toastBody.style.marginLeft = s.imageWidth + 10 + "px", p.toast.appendChild(p.cover)) }(), function () { s.close ? (p.buttonClose = document.createElement("button"), p.buttonClose.type = "button", p.buttonClose.classList.add(n + "-close"), p.buttonClose.addEventListener("click", function (t) { t.target; i.hide(s, p.toast, "button") }), p.toast.appendChild(p.buttonClose)) : s.rtl ? p.toast.style.paddingLeft = "18px" : p.toast.style.paddingRight = "18px" }(), function () { s.progressBar && (p.progressBar = document.createElement("div"), p.progressBarDiv = document.createElement("div"), p.progressBar.classList.add(n + "-progressbar"), p.progressBarDiv.style.background = s.progressBarColor, p.progressBar.appendChild(p.progressBarDiv), p.toast.appendChild(p.progressBar)), s.timeout && (s.pauseOnHover && !s.resetOnHover && (p.toast.addEventListener("mouseenter", function (t) { i.progress(s, p.toast).pause() }), p.toast.addEventListener("mouseleave", function (t) { i.progress(s, p.toast).resume() })), s.resetOnHover && (p.toast.addEventListener("mouseenter", function (t) { i.progress(s, p.toast).reset() }), p.toast.addEventListener("mouseleave", function (t) { i.progress(s, p.toast).start() }))) }(), function () { s.iconUrl ? (p.icon.setAttribute("class", n + "-icon"), p.icon.setAttribute("src", s.iconUrl)) : (s.icon || s.iconText) && (p.icon.setAttribute("class", n + "-icon " + (s.iconText ? "" : s.icon)), s.iconText && $(p.icon).html(s.iconText), s.iconColor && (p.icon.style.color = s.iconColor)), (s.icon || s.iconUrl || s.iconText) && (s.rtl ? p.toastBody.style.paddingRight = "33px" : p.toastBody.style.paddingLeft = "33px", p.toastBody.appendChild(p.icon)) }(), function () { s.title.length > 0 && (p.strong = document.createElement("strong"), p.strong.classList.add(n + "-title"), p.strong.appendChild(f(s.title)), p.toastTexts.appendChild(p.strong), s.titleColor && (p.strong.style.color = s.titleColor), s.titleSize && (isNaN(s.titleSize) ? p.strong.style.fontSize = s.titleSize : p.strong.style.fontSize = s.titleSize + "px"), s.titleLineHeight && (isNaN(s.titleSize) ? p.strong.style.lineHeight = s.titleLineHeight : p.strong.style.lineHeight = s.titleLineHeight + "px")), s.message.length > 0 && (p.p = document.createElement("p"), p.p.classList.add(n + "-message"), p.p.appendChild(f(s.message)), p.toastTexts.appendChild(p.p), s.messageColor && (p.p.style.color = s.messageColor), s.messageSize && (isNaN(s.titleSize) ? p.p.style.fontSize = s.messageSize : p.p.style.fontSize = s.messageSize + "px"), s.messageLineHeight && (isNaN(s.titleSize) ? p.p.style.lineHeight = s.messageLineHeight : p.p.style.lineHeight = s.messageLineHeight + "px")), s.title.length > 0 && s.message.length > 0 && (s.rtl ? p.strong.style.marginLeft = "10px" : 2 === s.layout || s.rtl || (p.strong.style.marginRight = "10px")) }(), p.toastBody.appendChild(p.toastTexts); var L; !function () { s.inputs.length > 0 && (p.inputs.classList.add(n + "-inputs"), m(s.inputs, function (t, e) { p.inputs.appendChild(f(t[0])), L = p.inputs.childNodes, L[e].classList.add(n + "-inputs-child"), t[3] && setTimeout(function () { L[e].focus() }, 300), L[e].addEventListener(t[1], function (e) { var n = t[2]; return n(i, p.toast, this, e) }) }), p.toastBody.appendChild(p.inputs)) }(), function () { s.buttons.length > 0 && (p.buttons.classList.add(n + "-buttons"), m(s.buttons, function (t, e) { p.buttons.appendChild(f(t[0])); var o = p.buttons.childNodes; o[e].classList.add(n + "-buttons-child"), t[2] && setTimeout(function () { o[e].focus() }, 300), o[e].addEventListener("click", function (e) { e.preventDefault(); var n = t[1]; return n(i, p.toast, this, e, L) }) })), p.toastBody.appendChild(p.buttons) }(), s.message.length > 0 && (s.inputs.length > 0 || s.buttons.length > 0) && (p.p.style.marginBottom = "0"), (s.inputs.length > 0 || s.buttons.length > 0) && (s.rtl ? p.toastTexts.style.marginLeft = "10px" : p.toastTexts.style.marginRight = "10px", s.inputs.length > 0 && s.buttons.length > 0 && (s.rtl ? p.inputs.style.marginLeft = "8px" : p.inputs.style.marginRight = "8px")), function () { p.toastCapsule.style.visibility = "hidden", setTimeout(function () { var t = p.toast.offsetHeight, e = p.toast.currentStyle || window.getComputedStyle(p.toast), n = e.marginTop; n = n.split("px"), n = parseInt(n[0]); var o = e.marginBottom; o = o.split("px"), o = parseInt(o[0]), p.toastCapsule.style.visibility = "", p.toastCapsule.style.height = t + o + n + "px", setTimeout(function () { p.toastCapsule.style.height = "auto", s.target && (p.toastCapsule.style.overflow = "visible") }, 500), s.timeout && i.progress(s, p.toast).start() }, 100) }(), function () { var t = s.position; if (s.target) p.wrapper = document.querySelector(s.target), p.wrapper.classList.add(n + "-target"), s.targetFirst ? p.wrapper.insertBefore(p.toastCapsule, p.wrapper.firstChild) : p.wrapper.appendChild(p.toastCapsule); else { if (-1 == r.indexOf(s.position)) return void console.warn("[" + n + "] Incorrect position.\nIt can be › " + r); t = o || window.innerWidth <= d ? "bottomLeft" == s.position || "bottomRight" == s.position || "bottomCenter" == s.position ? n + "-wrapper-bottomCenter" : "topLeft" == s.position || "topRight" == s.position || "topCenter" == s.position ? n + "-wrapper-topCenter" : n + "-wrapper-center" : n + "-wrapper-" + t, p.wrapper = document.querySelector("." + n + "-wrapper." + t), p.wrapper || (p.wrapper = document.createElement("div"), p.wrapper.classList.add(n + "-wrapper"), p.wrapper.classList.add(t), document.body.appendChild(p.wrapper)), "topLeft" == s.position || "topCenter" == s.position || "topRight" == s.position ? p.wrapper.insertBefore(p.toastCapsule, p.wrapper.firstChild) : p.wrapper.appendChild(p.toastCapsule) } isNaN(s.zindex) ? console.warn("[" + n + "] Invalid zIndex.") : p.wrapper.style.zIndex = s.zindex }(), function () { s.overlay && (null !== document.querySelector("." + n + "-overlay.fadeIn") ? (p.overlay = document.querySelector("." + n + "-overlay"), p.overlay.setAttribute("data-iziToast-ref", p.overlay.getAttribute("data-iziToast-ref") + "," + s.ref), isNaN(s.zindex) || null === s.zindex || (p.overlay.style.zIndex = s.zindex - 1)) : (p.overlay.classList.add(n + "-overlay"), p.overlay.classList.add("fadeIn"), p.overlay.style.background = s.overlayColor, p.overlay.setAttribute("data-iziToast-ref", s.ref), isNaN(s.zindex) || null === s.zindex || (p.overlay.style.zIndex = s.zindex - 1), document.querySelector("body").appendChild(p.overlay)), s.overlayClose ? (p.overlay.removeEventListener("click", {}), p.overlay.addEventListener("click", function (t) { i.hide(s, p.toast, "overlay") })) : p.overlay.removeEventListener("click", {})) }(), function () { if (s.animateInside) { p.toast.classList.add(n + "-animateInside"); var t = [200, 100, 300]; "bounceInLeft" != s.transitionIn && "bounceInRight" != s.transitionIn || (t = [400, 200, 400]), s.title.length > 0 && setTimeout(function () { p.strong.classList.add("slideIn") }, t[0]), s.message.length > 0 && setTimeout(function () { p.p.classList.add("slideIn") }, t[1]), (s.icon || s.iconUrl || s.iconText) && setTimeout(function () { p.icon.classList.add("revealIn") }, t[2]); var e = 150; s.buttons.length > 0 && p.buttons && setTimeout(function () { m(p.buttons.childNodes, function (t, n) { setTimeout(function () { t.classList.add("revealIn") }, e), e += 150 }) }, s.inputs.length > 0 ? 150 : 0), s.inputs.length > 0 && p.inputs && (e = 150, m(p.inputs.childNodes, function (t, n) { setTimeout(function () { t.classList.add("revealIn") }, e), e += 150 })) } }(), s.onOpening.apply(null, [s, p.toast]); try { var C = new CustomEvent(n + "-opening", { detail: s, bubbles: !0, cancelable: !0 }); document.dispatchEvent(C) } catch (w) { console.warn(w) } setTimeout(function () { p.toast.classList.remove(n + "-opening"), p.toast.classList.add(n + "-opened"); try { var t = new CustomEvent(n + "-opened", { detail: s, bubbles: !0, cancelable: !0 }); document.dispatchEvent(t) } catch (e) { console.warn(e) } s.onOpened.apply(null, [s, p.toast]) }, 1e3), s.drag && (a ? (p.toast.addEventListener("touchstart", function (t) { b.startMoving(this, i, s, t) }, !1), p.toast.addEventListener("touchend", function (t) { b.stopMoving(this, t) }, !1)) : (p.toast.addEventListener("mousedown", function (t) { t.preventDefault(), b.startMoving(this, i, s, t) }, !1), p.toast.addEventListener("mouseup", function (t) { t.preventDefault(), b.stopMoving(this, t) }, !1))), s.closeOnEscape && document.addEventListener("keyup", function (t) { t = t || window.event, 27 == t.keyCode && i.hide(s, p.toast, "esc") }), s.closeOnClick && p.toast.addEventListener("click", function (t) { i.hide(s, p.toast, "toast") }), i.toast = p.toast }, e });